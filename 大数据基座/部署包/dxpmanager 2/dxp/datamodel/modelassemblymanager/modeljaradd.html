<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>新增udfJAR</title>
    <!-- 请修改相对路径 -->
    <script src="../../../frame/fui/js/cssboot.js"></script>
    <style type="text/css">
.id_connection_row .form-control {
	width: 70%;
}




    </style>
</head>

<body>
<!-- 必须有，加载时的loading效果 -->
<div class="page-loading"></div>
<!-- toolbar区域 -->
<div class="fui-toolbar">
    <div class="btn-group mr10">
        <a class="mini-button" id="save" onclick="saveModify">保存并关闭</a> <a
            class="mini-button" onclick="epoint.closeDialog(0)">取消修改</a>
    </div>
</div>

<!-- 内容区域 -->
<div class="fui-content">
    <div id="fui-form" class="fui-form">
        <div role="form">
            <div role="row">
                <div role="control" label="JAR包名称" starred="true">
                    <input id=jarname class="mini-textbox"
                           bind="dataBean.jarname" required="true"
                           requiredErrorText="组件名称不能为空!"/>
                </div>
                <div role="control" label="JAR包" starred="true">
                    <div id="uploader" class="mini-webuploader" pickerText="导入Jar"
                         action="getFileUploadModel" limitType="jar" fileNumLimit="1"
                         dataImport="true" auto="true"></div>
                </div>
            </div>
            <div role="row" class="udf">
                <div role="control" label="hdfs数据源" starred="true">
                    <input class="mini-combobox" action="getHdfsDs" id="hdfsdsid"
                           multiSelect="false" bind="dataBean.hdfsdsid" required="true"
                           textField="text" valueField="id" requiredErrorText="hdfs数据源不能为空"/>
                </div>
                <div role="control" label="hdfs存放路径" >
                    <input id="targetpath" class="mini-textbox"
                           bind="dataBean.targetpath" emptyText="Jar包存放的hdfs绝对路径,请填写有权限的路径，默认地址为/epoint/udfjar/"/>
                </div>
            </div>
            <div role="row">
                <div role="control" label="排序">
                    <input id="ordernum" class="mini-textbox" bind="dataBean.ordernum"/>
                </div>
                <div role="control" label="JAR包简介">
                    <input id="introduce" class="mini-textbox"
                           bind="dataBean.description"/>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 请修改相对路径 -->
<script src="../../../frame/fui/js/jsboot.js"></script>
<script>
		// 初始化页面
		epoint.initPage('dxpmodeljaraddaction', '', function() {

		});

		function saveModify() {
			if (epoint.validate()) {
				epoint.execute('save', 'fui-form', closeCallback);
			}
		}

		// 关闭操作的回调
		function closeCallback(data) {
			if (data.msg.indexOf('成功') != -1) {
				epoint.alertAndClose(data.msg, '', '', 'success');
			} else {
				epoint.alert(data.msg);
			}
		}

		mini.get('group').on('valuechanged', function(data) {
			var type = data.value.split(';')[1];
			if (type == 'function') {
				$('.udf').hide();
				$('.fun').show();
			} else if (type == 'udf') {
				$('.udf').show();
				$('.fun').hide();
			}
		});




</script>
</body>
</html>