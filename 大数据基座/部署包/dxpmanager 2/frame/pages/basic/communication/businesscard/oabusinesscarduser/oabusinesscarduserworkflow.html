<!DOCTYPE html>
<html>

	<head>
		<title>外部通讯录联系人工作流</title>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		 <!-- 请修改相对路径 -->
		<script src="fui/js/cssboot.js"></script>
	</head>

	<body>
		<div class="page-loading"></div>

		<!-- toolbar区域 -->
		<div class="fui-toolbar">
			<div class="uc-handlecontrols" id="handlecontrols" action="handlecontrolsaction.handleCtrl"
			style="width: 100%"></div>
		</div>

		<div class="fui-content">
			<div class="fui-accordions">
				<div role="accordion" opened="true">
					<div role="head" title="表单填写"></div>
					<div role="body">
					    <!-- 隐藏按钮id不能修改 -->
						<div class="hidden">
							<a class="mini-button" id="btnSaveFrom" onclick="saveFrom();">保存</a>
							<a class="mini-button" id="btnSubmit" onclick="submit();">提交</a>
						</div>

						<!-- 内容区域 -->
						<div id="fui-form" class="fui-form">
														
						</div>
					</div>
				</div>
				<div role="accordion">
					<div role="head" title="相关附件"></div>
					<div role="body">
						<div class="uc-workflowattach" id="workflowattach"
						action="workflowattachaction.attachCtrl" style="width: 100%;"></div>
					</div>
				</div>
				<div role="accordion">
					<div role="head" title="历史意见"></div>
					<div role="body">
						<div class="uc-workflowopinion" id="workflowopinion"
						action="workflowopinionaction.opinionCtrl" style="width: 100%;"></div>
					</div>
				</div>
			</div>
		</div>

		<script src="rest/resource/jsboot"></script>
		<script src="pages/epointworkflow/js/workflowjsboot.js"></script>

		<script>
			//初始化页面
			epoint.initPage('oabusinesscarduserworkflowaction');
		
			function saveFrom() {
				if (epoint.validate()) {
					epoint.execute('saveForm', 'fui-form', newCallback);
				}
				else
					ShowTdOperate(true);
			}

			function submit() {
				if (epoint.validate()) {
					epoint.execute('submit', 'fui-form', newCallback);
				}
				else
					ShowTdOperate(true);
			}
			// 新增操作的回调,必须回调handlecontrols中的HeaderSubmit触发流程流转
			function newCallback(data) {
				HeaderSubmit();
			}
		</script>

	</body>

</html>