// 用户信息
Mock.mock(Util.getRightUrl(epoint.dealRestfulUrl(getDataUrl+"/getUserInfo")),function(){var a=Mock.mock({name:"@cname()",guid:"@id()",portrait:"","ouName|1":["\u8d22\u52a1\u90e8\u95e8","\u7cfb\u7edf\u7ba1\u7406\u90e8","\u4eba\u4e8b\u90e8","\u7814\u53d1\u90e8","\u9500\u552e\u90e8"],title:"\u7f51\u9875\u6807\u9898",logo:"","fullSearchUrl|1":["fui/search",""],hasParttime:!0});a.homes=Mock.mock({"list|2-8":[{code:"@id",name:"\u95e8\u6237\u5206\u7c7b@increment","items|2-10":[{code:"@id",name:"@cword(3,12)","openType|1":["tabsnav","tabsnav","tabsnav","tabsnav","blank"],url:"@url"}]}]}).list;a.defaultHome=a.homes[1].items[1].code;console.log(JSON.stringify(a));return a});Mock.mock(Util.getRightUrl(epoint.dealRestfulUrl(getDataUrl+"/getThemes")),function(a){console.log("/getThemes",window.decodeURIComponent(a.body).split("\x26"));return[{id:"grace",name:"grace",preview:"fui/pages/themewidgets/themeselection/images/theme.png",url:"fui/pages/themes/grace/grace.proto.html"},{id:"dream",name:"dream",preview:"fui/pages/themewidgets/themeselection/images/theme.png",url:"fui/pages/themes/grace/dream.proto.html"},{id:"classic",name:"classic",preview:"fui/pages/themewidgets/themeselection/images/theme.png",url:"fui/pages/themes/grace/classic.proto.html"},{id:"imac",name:"imac",preview:"fui/pages/themewidgets/themeselection/images/theme.png",url:"fui/pages/themes/grace/imac.proto.html"},{id:"metro",name:"metro",preview:"fui/pages/themewidgets/themeselection/images/theme.png",url:"fui/pages/themes/grace/metro.proto.html"}]});Mock.mock(Util.getRightUrl(epoint.dealRestfulUrl(getDataUrl+"/saveTheme")),function(a){console.log("/saveTheme",window.decodeURIComponent(a.body).split("\x26"));return{code:200}});Mock.mock(Util.getRightUrl(epoint.dealRestfulUrl(getDataUrl+"/getMenu")),function(a){if(/query=top/.test(a.body))return a=Mock.mock({"items|4-12":[{name:"@cword(4)",icon:"modicon-@integer(1,124)",code:"@id",url:"","hasSub|1":[!0,!1],"openType|1":["blank","tabsnav"]}]}),a.items[1].url="./test/home.html",a.items[3].url="./test/home.html",a.items[6]&&(a.items[6].url="./test/home.html",a.items[6].openType="tabsnav"),a.code=a.items[0].code,a.items[0].hasSub=!0,console.log(a),a;a=Mock.mock({"list|2-5":[{name:"@cword(3,8)",icon:"modicon-@integer(1,124)",code:"@id()",url:"","openType|1":["blank","tabsnav","tabsnav","tabsnav","tabsnav"],"items|0-3":[{name:"@cword(3,8)",icon:"modicon-@integer(1,124)",code:"@id",url:"","openType|1":["blank","tabsnav","tabsnav","tabsnav","tabsnav"],"items|0-3":[{name:"@cword(3,8)",icon:"modicon-@integer(1,124)",code:"@id",url:"","openType|1":["blank","tabsnav","tabsnav","tabsnav","tabsnav"],"items|0-3":[{name:"@cword(3,8)",icon:"modicon-@integer(1,124)",code:"@id",url:"http://localhost:8080/NT/fui/pages/ntjy/ntjy.html","openType|1":["blank","tabsnav","tabsnav","tabsnav","tabsnav"]}]}]}]}]}).list;a.forEach(function(a){a.items.length?a.items.forEach(function(a){a.items.length?a.items.forEach(function(a){a.items.length||(a.url="./test/testcolor.html")}):a.url="./test/testcolor.html"}):a.url="./test/testcolor.html"});console.log(a);return a});Mock.mock(Util.getRightUrl(epoint.dealRestfulUrl(getDataUrl+"/searchModule")),function(a){return/key=0/.test(a.body)?[]:[{name:"\u641c\u7d22\u83dc\u53551",code:"640000199702036359",url:"pages/test/page8.html",openType:"blank"},{name:"\u641c\u7d22\u83dc\u535512",code:"330000200208311899",url:"pages/test/page10.html",openType:"tabsnav"},{name:"\u641c\u7d22\u83dc\u535513",code:"320000198404170278",url:"pages/test/page12.html",openType:"blank"}]});Mock.mock(Util.getRightUrl(epoint.dealRestfulUrl(getDataUrl+"/getQuickMenu")),function(a){return[{icon:"modicon-68",name:"\u5feb\u6377\u83dc\u53557",code:"640000199702036359",url:"pages/test/page8.html",openType:"blank"},{icon:"modicon-13",name:"\u5feb\u6377\u83dc\u53559",code:"330000200208311899",url:"pages/test/page10.html",openType:"tabsnav"},{icon:"modicon-50",name:"\u5feb\u6377\u83dc\u535511",code:"320000198404170278",url:"pages/test/page12.html",openType:"blank"}]});Mock.mock(Util.getRightUrl(epoint.dealRestfulUrl(getDataUrl+"/getMsgCount")),{"remind|0-200":67,"eXun|0-105":1});Mock.mock(Util.getRightUrl(epoint.dealRestfulUrl(getDataUrl+"/getMsgData")),function(){return Mock.mock([{name:"\u5f85\u529e\u6d88\u606f",num:"@integer(0,99)",remindType:"todo",url:"@url()","openType|1":["dialog","blank","tabsnav"],"items|5-7":[{guid:"@id",name:"@cword(5,20)",url:"@url()",date:"@date(MM-dd)",status:"","openType|1":["dialog","blank","tabsnav"]}]},{name:"\u7cfb\u7edf\u6d88\u606f",num:"@integer(0,99)",remindType:"system",url:"@url()","openType|1":["dialog","blank","tabsnav"],"items|5-7":[{guid:"@id",name:"@cword(5,20)",url:"@url()",date:"@date(MM-dd)",status:"","openType|1":["dialog","blank","tabsnav"]}]},{name:"\u9884\u8b66\u4fe1\u606f",remindType:"warn",num:"@integer(0,99)",url:"@url","openType|1":["dialog","blank","tabsnav"],"items|5-7":[{guid:"@id",name:"@cword(5,20)",url:"@url",date:"@date(MM-dd)","status|1-3":1,"openType|1":["dialog","blank","tabsnav"]}]},{name:"\u90ae\u4ef6",remindType:"email",num:"@integer(0,99)",url:"@url","openType|1":["dialog","blank","tabsnav"],"items|5-7":[{guid:"@id",name:"@cword(5,20)",url:"@url",date:"@date(MM-dd)",status:"","openType|1":["dialog","blank","tabsnav"]}]}])});Mock.mock(Util.getRightUrl(epoint.dealRestfulUrl(getDataUrl+"/ignoreRemind")),{success:1});Mock.mock(Util.getRightUrl(EmsgConfig.baseUrl),function(){var a=[{type:"friend",uid:"00001",name:"\u4e8e\u4e3d\u4e3d",imgUrl:"../OA/Msg/emsg-example-user02.jpg",hasRead:!1,date:mini.formatDate(new Date,"MM-dd HH:mm"),message:"\u6b64\u5904\u663e\u793a\u6700\u65b0\u4e00\u6761\u5fae\u8baf\u7684\u6587\u5b57\u4fe1\u606f\uff0c\u4fdd\u6301\u4e0eMSG\u7aef\u7684\u4fe1\u606f\u540c\u6b65"},{sessionId:"S00009",type:"group",uid:"99999",name:"\u7f51\u7ad9\u4e0e\u524d\u7aef\u7814\u53d1\u90e8",imgUrl:"",hasRead:!1,date:mini.formatDate(new Date,"MM-dd HH:mm"),message:"\u6b64\u5904\u663e\u793a\u6700\u65b0\u4e00\u6761\u5fae\u8baf\u7684\u6587\u5b57\u4fe1\u606f\uff01",createDate:mini.formatDate(new Date,"yyyy/MM/dd"),member:[{uid:"00001",name:"\u4e8e\u4e3d\u4e3d",imgUrl:"../emsg/images/msg-example-user02.jpg"},{uid:"00003",name:"\u5f20\u4e09",imgUrl:"../images/msg-example-user13.jpg"},{uid:"00004",name:"\u5f90\u7acb",imgUrl:"../images/msg-example-user03.jpg"},{uid:"00005",name:"\u738b\u5927\u5927",imgUrl:"../images/msg-example-user04.jpg"}]},{type:"friend",uid:"00003",name:"\u5f20\u4e09",imgUrl:"../images/emsg-example-user13.jpg",hasRead:!1,date:mini.formatDate(new Date,"MM-dd HH:mm"),message:"\u90ae\u4ef6\u5df2\u53d1\uff0c\u8bf7\u6ce8\x26nbsp;\u610f\u67e5\u6536\uff01"},{type:"friend",uid:"00004",name:"\u5f90\u7acb",imgUrl:"../images/emsg-example-user03.jpg",hasRead:!0,date:mini.formatDate(new Date,"MM-dd HH:mm"),message:"\u6b64\u5904\u663e\u793a\u6700\u65b0\u4e00\u6761\u5fae\u8baf\u7684\u6587\u5b57\u4fe1\u606f"},{type:"friend",uid:"00005",name:"\u738b\u5927\u5927",imgUrl:"../images/emsg-example-user04.jpg",hasRead:!0,date:mini.formatDate(new Date,"MM-dd HH:mm"),message:"\u6b64\u5904\u663e\u793a\u6700\u65b0\u4e00\u6761\u5fae\u8baf\u7684\u6587\u5b57\u4fe1\u606f\uff0c\u4fdd\u6301\u4e0eMSG\u7aef\u7684\u4fe1\u606f\u540c\u6b65"}];$.each(a,function(a,b){b.sessionId="S"+EmsgConfig.uid+"_"+b.uid;"group"==b.type&&(b.sessionId="S_"+b.uid,b.name="\u7f51\u7ad9\u4e0e\u524d\u7aef\u7814\u53d1\u90e8"+Math.floor(100*Math.random()))});return{sessionlist:a}});$.mockjax({url:Util.getRightUrl("test/openSession"),dataType:"json",responseTime:[100,300],response:function(a){this.responseText={success:!0,sessionid:"S"+a.data.userid}}});$.mockjax({url:Util.getRightUrl("test/getuserlist"),dataType:"json",responseTime:[100,300],response:function(a){var c=a.data.id;if(a=a.data.key)this.responseText=[{id:"10000",name:"\u5f00\u53d11\u90e8",children:[{id:"00000",name:"\u7a0b\u5e8f\u5458"+a,isLeaf:!0},{id:"00005",name:"\u738b\u5927\u5927"+a,isLeaf:!0}]},{id:"20000",name:"\u5f00\u53d12\u90e8",children:[{id:"20001",name:"\u5f20\u4e09(\u5f00\u53d12\u90e8)"+a,isLeaf:!0},{id:"20003",name:"\u674e\u56db(\u5f00\u53d12\u90e8)"+a,isLeaf:!0}]}];else if(c){a=Math.floor(10*Math.random()+5);for(var b=[],g=0;g<a;g++)b.push({id:c+g.toString(),name:"\u5f00\u53d1"+c+"\u90e8\u5f20\u4e09"+g.toString(),isLeaf:!0});this.responseText=b}else this.responseText=[{id:"1",name:"\u5f00\u53d11\u90e8",isLeaf:!1},{id:"2",name:"\u5f00\u53d12\u90e8",isLeaf:!1},{id:"3",name:"\u5f00\u53d13\u90e8",isLeaf:!1}]}});$.mockjax({url:Util.getRightUrl("test/treeUrl"),dataType:"json",responseTime:2E3,response:function(a){console.log("\u83b7\u53d6\u4eba\u5458\u5217\u8868");this.responseText=[{guid:"10000",name:"\u7814\u53d1\u7fa4",items:[{guid:"10001",name:"\u57fa\u7840\u652f\u6491\u7814\u53d1\u7fa4",items:[{guid:"100011",name:"\u6846\u67b6\u7814\u53d1\u90e8",items:[{guid:"1000111",name:"\u7a0b\u5e8f\u54581"},{guid:"1000112",name:"\u7a0b\u5e8f\u54582"},{guid:"1000113",name:"\u7a0b\u5e8f\u54583"},{guid:"1000114",name:"\u7a0b\u5e8f\u54584"}]},{guid:"100012",name:"\u79fb\u52a8\u7814\u53d1\u90e8"},{guid:"100013",name:"\u7f51\u7ad9\u4e0e\u524d\u7aef\u7814\u53d1\u90e8"},{guid:"100014",name:"\u57fa\u7840\u8bbe\u65bd\u652f\u6301\u90e8"}]},{guid:"10002",name:"\u653f\u52a1\u670d\u52a1\u7814\u53d1\u7fa4"}]},{guid:"20000",name:"\u5b9e\u65bd\u90e8",items:[{guid:"20001",name:"\u5b9e\u65bd\u4e00\u90e8"},{guid:"20003",name:"\u5b9e\u65bd\u4e8c\u90e8"}]}]}});$.mockjax({url:Util.getRightUrl("test/CreateGroup"),dataType:"json",responseTime:[100,300],responseText:{success:!0,sessionid:"S_99999",groupid:"99999"}});$.mockjax({url:Util.getRightUrl("test/emsgbaseUrl"),dataType:"json",responseTime:[100,300],response:function(a){var c;switch(a.data.query){case "opensession":var b=a.data.userid;c={success:!0,sessionid:"S"+EmsgConfig.uid+"_"+b};break;case "loadrecentsession":var b=EmsgConfig.uid,g=[];$.each(recentSession,function(a,e){if(b==e.uid)return!0;e.sessionId="S"+b+"_"+e.uid;"group"==e.type&&(e.sessionId="S_"+e.uid,e.name="\u7f51\u7ad9\u4e0e\u524d\u7aef\u7814\u53d1\u90e8"+Math.floor(100*Math.random()));g.push(e)});c={sessionlist:g};break;case "getuserinfo":b=a.data.uid||EmsgConfig.uid;console.log("\u52a0\u8f7d\u4e2a\u4eba\u4fe1\u606f-Uid\uff1a"+b);$.each(recentSession,function(a,e){if(e.uid==b)return c={uid:e.uid,name:e.name,imgUrl:e.imgUrl},!1});c||(c="00000"==b?{uid:b,name:"\u7ba1\u7406\u5458",imgUrl:"images/top/top-headp-big.jpg"}:{uid:b,name:"\u901a\u8baf\u5f55\u4eba\u5458",imgUrl:"images/msg/msg-example-user03.jpg"});break;case "getgroupinfo":b=a.data.uid||EmsgConfig.uid;console.log("\u52a0\u8f7d\u8ba8\u8bba\u7ec4\u4fe1\u606f-Uid\uff1a"+b);c={uid:"S_99999",name:"\u7f51\u7ad9\u4e0e\u524d\u7aef\u7814\u53d1\u90e8"+Math.floor(10*Math.random()),createDate:mini.formatDate(new Date,"yyyy/MM/dd"),members:[{uid:"00001",name:"\u4e8e\u4e3d\u4e3d",imgUrl:"../images/emsg-example-user02.jpg"},{uid:"00003",name:"\u5f20\u4e09",imgUrl:"../images/emsg-example-user13.jpg"},{uid:"00004",name:"\u5f90\u7acb",imgUrl:"../images/emsg-example-user03.jpg"},{uid:"00005",name:"\u738b\u5927\u5927",imgUrl:"../images/emsg-example-user04.jpg"}]};break;case "ignoremessage":console.log("\u5ffd\u7565\u804a\u5929\u4fe1\u606f-SessionId\uff1a"+a.data.sessionid);c={success:!0};this.responseTime=2E3;break;case "loadhistorymessage":var n=a.data.sessionid;console.log("\u52a0\u8f7d\u5386\u53f2\u6d88\u606f-SessionId\uff1a"+n);var h;$.each(recentSession,function(a,b){if(b.sessionId==n)return h=b,!1});if(null==h)c={messagelist:[]};else{var f=[];if("friend"==h.type){for(var k="\u548c"+h.name+"\u804a\u5929\u8bb0\u5f55",d=0;10>d;d++){for(var q=Math.floor(3*Math.random()+2),m="",p=0;p<q;p++)m+=k;0==d%2?8==d?f.push({uid:EmsgConfig.uid,type:"file",href:"http://www.baidu.com",content:"\u9644\u4ef6\u4e0b\u8f7d\u9644\u4ef6\u4e0b\u8f7d\u9644\u4ef6\u4e0b\u8f7d\u9644\u4ef6\u4e0b\u8f7d\u9644\u4ef6\u4e0b\u8f7d\u9644\u4ef6\u4e0b\u8f7d.jpg",size:336312,time:mini.formatDate(new Date,"yyyy-MM-dd HH:mm:ss"),readtime:"2016-02-03 15:04:38"}):f.push({uid:h.uid,content:"\u6536\u5230"+m,time:mini.formatDate(new Date,"yyyy-MM-dd HH:mm:ss"),readtime:"2016-02-03 15:04:38"}):5==d?f.push({uid:h.uid,type:"file",content:"\u9644\u4ef6\u4e0b\u8f7d\u9644\u4ef6\u4e0b\u8f7d\u9644\u4ef6\u4e0b\u8f7d\u9644\u4ef6\u4e0b\u8f7d\u9644\u4ef6\u4e0b\u8f7d\u9644\u4ef6\u4e0b\u8f7d.jpg",size:20230,time:mini.formatDate(new Date,"yyyy-MM-dd HH:mm:ss"),readtime:"2016-02-03 15:04:38"}):f.push({uid:EmsgConfig.uid,content:"\u53d1\u9001"+m,time:mini.formatDate(new Date,"yyyy-MM-dd HH:mm:ss"),readtime:"2016-02-03 15:04:38"})}if(4==a.data.pageindex)c={messagelist:[]};else{if(1==a.data.pageindex)for(d=0;3>d;d++)f.push({uid:h.uid,content:"\u672a\u8bfb\u6d88\u606f",time:mini.formatDate(new Date,"yyyy-MM-dd HH:mm:ss"),readtime:null});c={messagelist:f}}}else{var l=[];$.each(recentSession,function(a,b){if("group"==b.type)return!0;l.push({uid:b.uid,name:b.name,imgUrl:b.imgUrl})});l.push({uid:"00000",name:"\u7ba1\u7406\u5458",imgUrl:"images/mainframe/top/top-headp-big.jpg"});for(d=0;10>d;d++)k=Math.floor(5*Math.random()),4==k?d--:(k=l[k],f.push({uid:k.uid,content:"\u6536\u5230\u548c"+k.name+"\u804a\u5929\u8bb0\u5f55\x3cimg alt\x3d'[\u563b\u563b]' src\x3d'../emsg/images/emotion/tootha_thumb.gif' class\x3d'eimg'\x3e",time:mini.formatDate(new Date,"yyyy-MM-dd HH:mm:ss"),readtime:"2016-02-03 15:04:38"}),0==d%3&&f.push({uid:EmsgConfig.uid,content:"\u6211\u81ea\u5df1\u53d1\u9001\u7684\u804a\u5929\u6d88\u606f",time:mini.formatDate(new Date,"yyyy-MM-dd HH:mm:ss"),readtime:"2016-02-03 15:04:38"}),8==d&&f.push({uid:EmsgConfig.uid,type:"file",href:"http://www.baidu.com",content:"\u9644\u4ef6\u4e0b\u8f7d\u9644\u4ef6\u4e0b\u8f7d\u9644\u4ef6\u4e0b\u8f7d\u9644\u4ef6\u4e0b\u8f7d\u9644\u4ef6\u4e0b\u8f7d\u9644\u4ef6\u4e0b\u8f7d.jpg",size:23561316,time:mini.formatDate(new Date,"yyyy-MM-dd HH:mm:ss"),readtime:"2016-02-03 15:04:38"}));c=4==a.data.pageindex?{member:l,messagelist:[]}:{member:l,messagelist:f}}}break;case "renamegroup":a=a.data.groupid;console.log("\u91cd\u547d\u540d\u8ba8\u8bba\u7ec4-GroupId\uff1a"+a);c={success:!0};break;case "quitgroup":a=a.data.groupid;console.log("\u9000\u51fa\u8ba8\u8bba\u7ec4-GroupId\uff1a"+a);c={success:!0};break;case "creategroup":f=JSON.stringify(a.data.memberids);console.log("\u65b0\u5efa\u8ba8\u8bba\u7ec4-Members\uff1a"+a.data.groupname);c={success:!0,sessionid:"S_99999",groupid:"99999"};break;case "editgroup":f=JSON.stringify(a.data.memberids),console.log("\u65b0\u5efa\u8ba8\u8bba\u7ec4-Members\uff1a"+f),c={success:!0}}this.responseText=c}});