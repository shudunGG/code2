<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>单行文本框控件</title>
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/control.css">
</head>

<body>
    <div class="control-form">
        <input type="hidden" id="DataField"/>
        <input type="hidden" id="DefaultValue"/>
        <input type="hidden" id="IsExtra"/>
        <input type="hidden" id="DataCtrl"/>
        <input type="hidden" id="fieldCreateFlag"/>
        
 		<ul class="form-field">
   			<li class="form-title">控件名称</li>
   			<li>
   			    <input type="text" id="DataFieldCn" class="form-control"></input>
   			</li>
 		</ul>
 		<ul id="fieldEn" style="display:none" class="form-field">
   			<li class="form-title">控件英文名称</li>
   			<li>
   			    <input type="text" id="DataFieldEn" class="form-control"></input>
   			</li>
 		</ul>
        <ul class="form-field">
            <li class="form-title">宏控件类型</li>
            <li>
                <select id="MacroType" class="form-control" onchange="changeType(this.value);">
                    <optgroup label="----通用----">
                        <option value="EPOINT_SYS_DATE">当前日期，形如：2015-01-01</option>
                        <option value="EPOINT_SYS_DATE_CN">当前日期，形如：2015年1月1日</option>
                        <option value="EPOINT_SYS_DATE_CN_SHORT3">当前日期，形如：2015年</option>
                        <option value="EPOINT_SYS_DATE_CN_SHORT4">当前年份，形如：2015</option>
                        <option value="EPOINT_SYS_DATE_CN_SHORT1">当前日期，形如：2015年1月</option>
                        <option value="EPOINT_SYS_DATE_CN_SHORT2">当前日期，形如：1月1日</option>
                        <option value="EPOINT_SYS_TIME">当前时间，形如：HH时mm分ss秒</option>
                        <option value="EPOINT_SYS_DATETIME">当前日期+时间，形如：2015年1月1日 时分秒</option>
                        <option value="EPOINT_SYS_WEEK">当前星期中的第几天，形如：星期一</option>
                        <option value="EPOINT_SYS_USERID">当前用户ID</option>
                        <option value="EPOINT_SYS_USERNAME">当前用户姓名</option>
                        <option value="EPOINT_SYS_DEPTNAME">当前用户部门(长名称)</option>
                        <option value="EPOINT_SYS_DEPTNAME_SHORT">当前用户部门(短名称)</option>
                        <option value="EPOINT_SYS_USERNAME_DATE">当前用户姓名+日期</option>
                        <option value="EPOINT_SYS_USERNAME_DATETIME">当前用户姓名+日期+时间</option>
                        <option value="EPOINT_SYS_FlowNum">流水号</option>
                    </optgroup>
                </select>
            </li>
        </ul>
        <div id="flownumconfig" style="display: none;">
            <ul class="form-field">
                <li class="form-title">流水号名称</li>
                <li>
                    <input type="text" id="FlowNumName" class="form-control">
                </li>
            </ul>
            <ul class="form-field">
                <li class="form-title">流水号前缀</li>
                <li>
                    <input type="text" id="FlowNumFlag" class="form-control">
                </li>
            </ul>
            <ul class="form-field">
                <li class="form-title">流水号位数</li>
                <li>
                    <input type="text" id="FlowNumLength" class="form-control">
                </li>
            </ul>
        </div>
        <ul class="form-field">
            <li class="form-title">计算时</li>
            <li>
                <select id="CaculateTime" class="form-control">
                    <option value="Init" selected="selected">表单初始化时</option>
                    <option value="Save">表单提交时</option>
                </select>
            </li>
        </ul>
        <ul class="form-field">
            <li>
                <label for="Conceal" class="chk-control">
                    <input type="checkbox" value="1" id="Conceal">
                    <span>是否隐藏</span>
                </label>
            </li>
        </ul>
        <ul class="form-field">
            <li>
                <input type="text" id="IsDate" style="display: none;">
            </li>
        </ul>
    </div>

    <script type="text/x-template" id="ctrl-templ">
        <input type="text"
            title="{{title}}"
            class="macro"
            data-ctrl={{datactrl}}
            id="{{id}}"
            datafield="{{dataField}}"
            datafieldcn="{{dataFieldCn}}"
            {{#flowNumConfig}}
            flownumname="{{flowNumName}}"
            flownumflag="{{flowNumFlag}}"  
            flownumlength="{{flowNumLength}}" 
            {{/flowNumConfig}}
            macrotype="{{macroType}}"
            isdate="{{isdate}}" 
            caculatetime="{{caculatetime}}"
            conceal="{{conceal}}" 
            defaultvalue="{{defaultvalue}}"
            isextra="{{isextra}}"/>
    </script>

    <script type="text/javascript">
        var tableId = parent.tableId;
    </script>
    <script type="text/javascript" src="../js/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="../js/mustache.js"></script>
    <script type="text/javascript" src="../js/controls/control.js"></script>
    <script type="text/javascript" src="../js/controls/Macro.js"></script>
    <script type="text/javascript">
        function changeType(val) {
            if (val == "EPOINT_SYS_FlowNum")
                $("#flownumconfig").show();
            else
                $("#flownumconfig").hide();
        }
    </script>
</body>

</html>