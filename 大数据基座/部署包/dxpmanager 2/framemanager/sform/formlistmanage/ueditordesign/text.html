<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
<title>文本框</title>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
<meta name="generator" content="www.leipi.org" />
<link rel="stylesheet" href="bootstrap/css/bootstrap.css">
<!--[if lte IE 6]>
    <link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap-ie6.css">
    <![endif]-->
<!--[if lte IE 7]>
    <link rel="stylesheet" type="text/css" href="bootstrap/css/ie.css">
    <![endif]-->
<link rel="stylesheet" href="leipi.style.css">
<link rel="stylesheet" href="tab.css" type="text/css" />
<script type="text/javascript"
	src="../../../../frame/fui/js/widgets/ueditor/dialogs/internal.js"></script>
<script type="text/javascript">
	/* Thank you by  
	                                                                                                        http://www.alt-tag.com/blog/2006/02/ie-dom-bugs/ */
	function createElement(type, name) {
		var element = null;
		try {
			element = document
					.createElement('<' + type + ' name="' + name + '">');
		} catch (e) {
		}
		if (element == null) {
			element = document.createElement(type);
			element.name = name;
		}
		return element;
	}
</script>
</head>

<body>
	<div class="wrapper">
		<div id="tabhead" class="tabhead">
			<span class="tab focus" data-content-id="basic">基本属性</var></span>
			<!--             <span class="tab focus" data-content-id="external">扩展配置</var></span> -->
			<!--             <span class="tab" data-content-id="search"><var id="lang_tab_search"></var></span> -->
		</div>
		<div id="tabbody" class="tabbody">
			<div id="basic" class="panel focus">
				<iframe src="base.html" width="100%" height="400" name="base"></iframe>
			</div>

			<!--             <div id="external" class="panel focus"> -->
			<!--             </div> -->

			<!-- 		<table class="table table-bordered table-striped table-hover"> -->
			<!-- 			<iframe src="base.html" width="100%" height="380" name="base"></iframe> -->
			<!-- 		</table> -->
		</div>
	</div>
	<script type="text/javascript" src="tab.js"></script>
	<script type="text/javascript">
		var oNode = null, thePlugins = 'text';
		window.onload = function() {
			initTabs();
			if (UE.plugins[thePlugins].editdom) {
				oNode = UE.plugins[thePlugins].editdom;
				window.frames["base"].iframeedit(oNode);
			} else {
				parent.controlId += 1;
				var df = "Ctrl" + parent.controlId
				window.frames["base"].iframeinit(df);
			}
		}
		dialog.oncancel = function() {
			if (UE.plugins[thePlugins].editdom) {
				delete UE.plugins[thePlugins].editdom;
			}
		};
		dialog.onok = function() {
			var orgname = window.frames["base"].document
					.getElementById("orgname").value;
			if (orgname == '') {
				alert('请输入控件名称');
				return false;
			}
			var gValue = window.frames["base"].document
					.getElementById("orgvalue").value.replace(/\"/g, "&quot;"), gTitle = orgname
					.replace(/\"/g, "&quot;"), gFontSize = window.frames["base"].document
					.getElementById("orgfontsize").value, gAlign = window.frames["base"].document
					.getElementById("orgalign").value, gWidth = window.frames["base"].document
					.getElementById("orgwidth").value, gHeight = window.frames["base"].document
					.getElementById("orgheight").value, gType = window.frames["base"].document
					.getElementById("orgtype").value;

			if (!oNode) {
				try {
					oNode = createElement('img', 'leipiNewField');
					oNode = window.frames["base"].iframeonok(oNode);
					if (oNode == false) {
						return false;
					}
					oNode.setAttribute('data-ctrl', "textbox");
					oNode.setAttribute('datafieldcn', gTitle);
					oNode.setAttribute('defaultvalue', gValue);
					oNode.setAttribute('class', 'textbox');
					oNode.setAttribute('type', 'text');
					oNode.setAttribute('title', gTitle);
					oNode.setAttribute('value', gValue);
					oNode.setAttribute('class', "textbox");
					// 					oNode.setAttribute('name', 'leipiNewField');
					oNode.setAttribute('controltype', thePlugins);
					editor.execCommand('insertHtml', oNode.outerHTML);
				} catch (e) {
					throw e;
					return false;
				}
			} else {
				oNode = window.frames["base"].iframeonok(oNode);
				if (oNode == false) {
					return false;
				}
				oNode.setAttribute('class', 'textbox');
				oNode.setAttribute('data-ctrl', "textbox");
				delete UE.plugins[thePlugins].editdom;
			}
		};
	</script>
</body>

</html>