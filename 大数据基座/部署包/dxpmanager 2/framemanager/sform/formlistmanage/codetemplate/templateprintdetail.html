<!DOCTYPE html>
<html>
<head>
<title>代码模板</title>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<!-- 请修改相对路径 -->
<script src="../../../js/sformcssboot.js"></script>
<link rel="stylesheet"
	href="/epoint-web/frame/pages/epointsform/css/formrecord.css"></link>
<style type="text/css">
	 /*.fui-content {  
	     background-color: transparent;
	     height: auto !important;
	 }
	 html, body {
        height: auto;
        overflow: auto;
     }*/
     .mini-outputtext{
        display:inline
     }
     .MsoNormalTable{
        word-wrap:break-word;
        word-break:break-all;
     }
</style>
</head>

<body>
	<div class="page-loading"></div>
	
	<div id="butList" class="fui-toolbar">
	    <a class="mini-button" iconCls="icon-addcircle" id="toolPrint" onclick="doPrint('打印预览...')">打印预览</a>
	    <!-- input type="button" id="toolPrint" value="打印预览..." onClick="doPrint('打印预览...')">
	    <input type="button" id="toolPrint2" value="打印..." onClick="doPrint('打印...')">
	    <input type="button" id="toolPrint3" value="打印" onClick="doPrint('打印')"-->
	     <!--<a class="mini-button" iconCls="icon-addcircle" id="picBtn" onclick="openAndExport()">先转图片再导出PDF方法一</a> 
		<a class="mini-button" iconCls="icon-addcircle" id="picBtn2" onclick="exportPDFByCanvas()">先转图片再导出PDF方法2</a>-->
	</div>

	<div class="fui-content" id="fui-content">
		<div id="fui-form" class="fui-form">
			<div role="form" id="form">
				<div id='page1' class='breakable paperWidth'>@contentContainer</div>
			</div>
			<input class="mini-hidden" id="tableId" bind="tableId"/>
	        <input class="mini-hidden" id="rowGuid" bind="rowGuid"/>
	        <input class="mini-hidden" id="gridIds" bind="gridIds"/>
	        <input class="mini-hidden" id="convertHtml" bind="convertHtml" />
	        <input class="mini-hidden" id="pdfData"/>
		</div>
	</div>
	
	<div id='myfooter' style='display: none'>
		<p align="right"
			style="font-size: 12px; border-top: solid 1 black; padding: 2px">
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
	</div>

	<script src="../../../../../../rest/resource/jsboot"></script>
	<script src="../../../js/epointsform.js"></script>
	<script type="text/javascript"  src="../../../js/jcp.js"></script>
	<script type="text/javascript"  src="../../../js/lic.js"></script>
	
	<script>
		// Promise支持，必须是完整的Promise/A+实现
		if (typeof window.Promise != 'function') {
			SrcBoot.output([ '../../../js/bluebird/bluebird.min.js' ]);
		}
	
		SrcBoot.output([ '../../../js/html2canvas.js', // html 转 canvas
		'../../../js/jspdf.min.js' // jspdf
		]);
	</script>
    
	<script>
	if (Util.browsers.isIE9 || Util.browsers.isIE8 || Util.browsers.isIE67) {
	    mini.get('picBtn2').setEnabled(false);
    }
	
		window.epointsformdetailactionname = "formcommondetailaction";
		window.detail = "printdetail";
		
		function doPrint(how) {

			//打印文档对象9
			var myDoc = {
					settings:{
						marginLeft:10,
						marginTop:10,
						marginRight:10,
						marignBottom:10
					},
			   
				//scale:1,
				footer:{height:20,html:document.getElementById('myfooter')},
	    			documents: document,    // 打印页面(div)们在本文档中
	    			copyrights  :    '杰创软件拥有版权  www.jatools.com'
								};
			var jcp = getJCP();
			// 调用打印方法
			if (how == '打印预览...')
				jcp.printPreview(myDoc); // 打印预览

			else if (how == '打印...')
				jcp.print(myDoc, true); // 打印前弹出打印设置对话框

			else
				jcp.print(myDoc, false); // 不弹出对话框打印

		}
	</script>

	<script src="../../../js/epointsformdetail.js"></script>
	<script  src="../../../js/stylecustom.js"></script>
</body>
</html>