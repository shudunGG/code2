<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>demo</title>
    <script src="../../cssboot.js"></script>
    <style>
        #classify-search2 {
            width: 240px;
            height: 100%;
        }

        #classify-search2 .classify-search-input {
            width: 200px;
            float: right;
            transition: all .2s ease-out;
        }

        #classify-search2.popup .classify-search-input {
            width: 240px;
        }

        @keyframes test1111 {
            0% {
                transform: rotate(3deg);
            }
            100% {
                transform: rotate(-3deg);
            }
        }

        .error .classify-search-input {
            animation: test1111 .2s ease-out infinite;
        }

        .output {
            position: relative;
            top: 30%;
            margin-left: auto;
            margin-right: auto;
            width: 600px;
            line-height: .4rem;
            font-size: .14rem;
            background: #000;
            color: #fff;
            padding: 10px;
            border-radius: 10px;
        }
    </style>
</head>

<body>
    <div class="page-loading"></div>
    <!-- 页面内容区域 -->
    <div class="fui-toolbar">
        <!-- class名称固定，id可以更换 -->
        <div class="classify-search mr10" id="classify-search"></div>

        <div class="classify-search r" id="classify-search2"></div>

        <div class="classify-search" id="classify-search3"></div>
    </div>
    <div class="fui-content">
        <div class="output"></div>
    </div>
    <script src="../../jsboot.js"></script>
    <script src="classifysearch.js"></script>
    <script>
        Util.hidePageLoading();

        // 分类搜索项配置
        var categoryJson = [{
            id: "00", // 分类id
            iconCls: "view", // 分类图标
            name: "全文检索" // 分类名称
        }, {
            id: "01",
            iconCls: "mail",
            name: "标题"
        }, {
            id: "02",
            iconCls: "sender",
            name: "收件人"
        }, {
            id: "03",
            iconCls: "fd",
            name: "反馈"
        }, {
            id: "04",
            iconCls: "modicon-11", // 支持配置模块图标，http://fe.epoint.com.cn:8080/fedemo/pages/modicon/modicon.php
            name: "正文"
        }, {
            id: "05",
            iconCls: "icon-gear",
            name: "配置"
        }];

        // 初始化组件
        var cs = new ClassifySearch({
            id: "classify-search", // 绑定的容器id
            searchTarget: "邮件", // 搜索目标
            category: categoryJson,
            width: 229,
            height: 26,
            placeholder: "邮件名、发件人", // 输入框placeholder内容
            maxShowCharacter: 5, // 下拉区域显示的最大关键字字符数
            keyup: function (id, key) {
                // 键盘按下弹起事件
                // console.log("keyup事件返回 id:" + id + "key:" + key);
            },
            enter: function (id, key) {
                // 回车，回车不会执行keyup
                // console.log("回车事件返回 id:" + id + "key:" + key);
                print(id, key);
            },
            up: function (id) {
                // 按上键，设置高级搜索searchtype，执行up后在执行keyup
                // console.log("上事件返回 id:" + id);
            },
            down: function (id) {
                // 按下键，设置高级搜索searchtype，执行down后在执行keyup
                // console.log("下事件返回 id:" + id);
            }
        });
        new ClassifySearch({
            id: "classify-search3", // 绑定的容器id
            searchTarget: "邮件", // 搜索目标
            category: categoryJson,
            width: 229,
            height: 26,
            placeholder: "邮件名、发件人", // 输入框placeholder内容
            maxShowCharacter: 5, // 下拉区域显示的最大关键字字符数
            keyup: function (id, key) {
                // 键盘按下弹起事件
                // console.log("keyup事件返回 id:" + id + "key:" + key);
            },
            enter: function (id, key) {
                // 回车，回车不会执行keyup
                // console.log("回车事件返回 id:" + id + "key:" + key);
                print(id, key);
            },
            up: function (id) {
                // 按上键，设置高级搜索searchtype，执行up后在执行keyup
                // console.log("上事件返回 id:" + id);
            },
            down: function (id) {
                // 按下键，设置高级搜索searchtype，执行down后在执行keyup
                // console.log("下事件返回 id:" + id);
            }
        });
        new ClassifySearch({
            id: "classify-search2", // 绑定的容器id
            searchTarget: "邮件", // 搜索目标
            category: categoryJson,
            width: 229,
            height: 26,
            placeholder: "邮件名、发件人", // 输入框placeholder内容
            maxShowCharacter: 5, // 下拉区域显示的最大关键字字符数
            keyup: function (id, key) {
                // 键盘按下弹起事件
                console.log("keyup事件返回 id:" + id + "key:" + key);
            },
            enter: function (id, key) {
                // 回车，回车不会执行keyup
                console.log("回车事件返回 id:" + id + "key:" + key);
                print(id, key);
            },
            up: function (id) {
                // 按上键，设置高级搜索searchtype，执行up后在执行keyup
                console.log("上事件返回 id:" + id);
            },
            down: function (id) {
                // 按下键，设置高级搜索searchtype，执行down后在执行keyup
                console.log("下事件返回 id:" + id);
            }
        });

        var $output = $('.output');

        function print(type, key) {
            $output.append('<pre>===========================\n' + JSON.stringify({
                type: type,
                wd: key,
            }, 0, 4) + '</pre>');
        }
    </script>
</body>

</html>