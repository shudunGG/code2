<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>选择流程处理页面</title>
<script src="../../../../frame/fui/js/cssboot.js"></script>
</head>
<body>
	<!-- 必须有，加载时的loading效果 -->
	<div class="page-loading"></div>

	<!-- 内容区域 -->
	<div class="fui-content">
		<!-- 展示一 -->
		<table id="datagrid">
			<thead>
				<tr>
					<th width="30">序号</th>
					<th>页面说明</th>
				</tr>
			</thead>
			<tbody>
				 <tr>
					<td width="30">1</td>
					<td><p onclick="setActivityPage('epointworkflow/client/common/handlemain');return false;">含材料的流程处理页面</p></td>
				</tr>
				<!--<tr>
					<td width="30">2</td>
					<td><p onclick="setActivityPage('epointworkflow/client/common/handlemainwithhistoryopinionlist');return false;">含材料列表的流程处理页面,包含历史处理意见列表(表单材料超过5个时请选择)</p></td>
				</tr>-->
				<tr>
					<td width="30">2</td>
					<td><p onclick="setActivityPage('epointworkflow/demo/handlemainnomateriallist');return false;">单表单流程处理页面演示页面，请使用Mis平台生成单表单流程处理页面</p></td>
				</tr>
			</tbody>
		</table>

		<!-- 展示二 -->
		<table id="datagrid1">
			<thead>
				<tr>
					<th width="30">序号</th>
					<th>页面说明</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td width="30">1</td>
					<td><a href="SetActivityPage('epointworkflow/client/common/materialshowinfo');return false;">表单显示页面，自动重定向到第一份表单</a></td>
				</tr>
			</tbody>
		</table>

		<!-- 展示三 -->
		<table id="datagrid2">
			<thead>
				<tr>
					<th width="30">序号</th>
					<th width="350">页面说明</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td width="30">1</td>
					<td width="350"><p onclick="setActivityPageWithTableId()">通用MIS表单页面，TableGuid =<input id="misTableId" class="mini-textbox" style="height: 25px;"
						bind="misTableId" ></p> 
					</td>
					<td><a class="mini-button" iconCls="icon-gear" onclick="selMisTable()"/></td>
				</tr>
			</tbody>
		</table>

		<!-- 展示四 -->
		<table id="datagrid3">
			<thead>
				<tr>
					<th width="30">序号</th>
					<th>页面说明</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td width="30">1</td>
					<td><p onclick="setActivityPage('epointworkflow/client/commonoperationhandlepass');return false;">
							“通过”操作的通用处理页面，提供<font color="red">人员和步骤</font>选择列表（但可以通过变迁定义关闭人员编辑功能）
						</p></td>
				</tr>
				<tr>
					<td width="30">2</td>
					<td><p onclick="setActivityPage('epointworkflow/client/commonoperationhandlepass_singletransition');return false;">
							“通过”操作的通用处理页面，单一分支或不显示后续步骤，仅提供<font color="red">人员</font>选择列表
						</p></td>
					<td></td>
				</tr>
			</tbody>
		</table>

		<!-- 展示五 -->
		<table id="datagrid4">
			<thead>
				<tr>
					<th width="30">序号</th>
					<th>页面说明</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td width="30">1</td>
					<td><p onclick="setActivityPage('epointworkflow/client/commonoperationhandlepass_singletransition');return false;">
							“转交”操作的通用处理页面，提供<font color="red">人员</font>选择列表
						</p>
					</td>
				</tr>
			</tbody>
		</table>

		<!-- 展示六 -->
		<table id="datagrid5">
			<thead>
				<tr>
					<th width="30">序号</th>
					<th>页面说明</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td width="30">1</td>
					<td><p onclick="setActivityPage('epointworkflow/client/commonoperationhandleback');return false;">
							“退回”操作的通用处理页面</p>
					</td>
				</tr>
			</tbody>
		</table>
		
		<!-- 展示七 -->
		<table id="datagrid6">
			<thead>
				<tr>
					<th width="30">序号</th>
					<th>页面说明</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td width="30">1</td>
					<td><p onclick="setActivityPage('epointworkflow/client/commonoperationhandlepass_singletransition');return false;">
							“送阅读”操作的通用处理页面</p>
					</td>
				</tr>
			</tbody>
		</table>
		
		<!-- 展示八 -->
		<table id="datagrid7">
			<thead>
				<tr>
					<th width="30">序号</th>
					<th>页面说明</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td width="30">1</td>
					<td><p onclick="setActivityPage('epointworkflow/client/commonoperationhandlesign');return false;">
							“结束当前工作项”操作的通用处理页面</p>
					</td>
				</tr>
			</tbody>
		</table>
		
		<!-- 展示九 -->
		<table id="datagrid8">
			<thead>
				<tr>
					<th width="30">序号</th>
					<th>页面说明</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td width="30">1</td>
					<td><p onclick="setActivityPage('epointworkflow/client/commonoperationhandlesign');return false;">
							“终止流程实例”操作的通用处理页面</p>
					</td>
				</tr>
			</tbody>
		</table>
		
		<!-- 展示十 -->
		<table id="datagrid9">
			<thead>
				<tr>
					<th width="30">序号</th>
					<th>页面说明</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td width="30">1</td>
					<td><p onclick="setActivityPage('epointworkflow/client/browser/browsermain');return false;">
							含材料列表的查看页面</p></td>
				</tr>
				<tr>
					<td width="30">2</td>
					<td><p onclick="setActivityPage('epointworkflow/client/browser/browsermainnomateriallist');return false;">
							不含材料列表的查看页面</p></td>
				</tr>
			</tbody>
		</table>
	</div>

	<input bind="showWorkItem" id="showWorkItem" class="mini-hidden" />
	<input bind="showBodyPage" id="showBodyPage" class="mini-hidden" />
	<input bind="material" id="material" class="mini-hidden" />
	<input bind="commonHandle" id="commonHandle" class="mini-hidden" />
	<input bind="commonHandleShift" id="commonHandleShift" class="mini-hidden" />
	<input bind="commonHandleBack" id="commonHandleBack" class="mini-hidden" />
	<input bind="commonHandleSendToSign" id="commonHandleSendToSign" class="mini-hidden" />
	<input bind="commonHandleTerminate" id="commonHandleTerminate" class="mini-hidden" />
	<input bind="commonHandleTerminatePVI" id="commonHandleTerminatePVI" class="mini-hidden" />
	<input bind="browseInstance" id="browseInstance" class="mini-hidden" />

	<script src="../../../../rest/resource/jsboot"></script>
	<script>
		//<![CDATA[ 
		// 初始化页面
		epoint.initPage('designhelperactivitypageaction', '', initCallBack);

		function initCallBack(data) {
			if (mini.get("showWorkItem") != null && mini.get("showWorkItem").getValue()) {
				document.getElementById("datagrid").style.display = "";
			} else {
				document.getElementById("datagrid").style.display = "none";
			}

			if (mini.get("showBodyPage") != null && mini.get("showBodyPage").getValue()) {
				document.getElementById("datagrid1").style.display = "";
			} else {
				document.getElementById("datagrid1").style.display = "none";
			}

			if (mini.get("material") != null && mini.get("material").getValue()) {
				document.getElementById("datagrid2").style.display = "";
			} else {
				document.getElementById("datagrid2").style.display = "none";
			}

			if (mini.get("commonHandle") != null && mini.get("commonHandle").getValue()) {
				document.getElementById("datagrid3").style.display = "";
			} else {
				document.getElementById("datagrid3").style.display = "none";
			}

			if (mini.get("commonHandleShift") != null && mini.get("commonHandleShift").getValue()) {
				document.getElementById("datagrid4").style.display = "";
			} else {
				document.getElementById("datagrid4").style.display = "none";
			}

			if (mini.get("commonHandleBack") != null && mini.get("commonHandleBack").getValue()) {
				document.getElementById("datagrid5").style.display = "";
			} else {
				document.getElementById("datagrid5").style.display = "none";
			}

			if (mini.get("commonHandleSendToSign") != null && mini.get("commonHandleSendToSign").getValue()) {
				document.getElementById("datagrid6").style.display = "";
			} else {
				document.getElementById("datagrid6").style.display = "none";
			}

			if (mini.get("commonHandleTerminate") != null && mini.get("commonHandleTerminate").getValue()) {
				document.getElementById("datagrid7").style.display = "";
			} else {
				document.getElementById("datagrid7").style.display = "none";
			}

			if (mini.get("commonHandleTerminatePVI") != null && mini.get("commonHandleTerminatePVI").getValue()) {
				document.getElementById("datagrid8").style.display = "";
			} else {
				document.getElementById("datagrid8").style.display = "none";
			}

			if (mini.get("browseInstance") != null && mini.get("browseInstance").getValue()) {
				document.getElementById("datagrid9").style.display = "";
			} else {
				document.getElementById("datagrid9").style.display = "none";
			}
		}

		function setActivityPage(fieldName) {
			parent.close(fieldName);
		}

		function setActivityPageWithTableId() {
			var misTable;
			var name = "epointworkflow/pages/client/commonmisedit?TableGuid=";
			misTable = mini.get("misTableId").getValue();
			parent.close(name + misTable);
		}

		function selMisTable() {
			epoint.openDialog('选择表单对应的MIS表',
					"commonpage/dlg/mistabletree",ReturnMis,
	                {
                      width : 480,
                      height : 300
                    } );
		}

		function ReturnMis(rtnValue) {
			if (rtnValue && rtnValue!="close") {
				var s = rtnValue.split(".");
				mini.get("misTableId").setValue(s[1]);
			}
		}
		//]]>
	</script>
</body>
</html>