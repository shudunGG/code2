<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>数据集成-概况</title>
    <script src="../../frame/fui/js/cssboot.js"></script>
    <script>
        SrcBoot.output(["../css/common.css", "./css/common.css", "./css/general.css"]);
    </script>
</head>

<body>
    <div class="main">
       <!--  <div class="top clearfix">
            <span class="l location-title">您当前的位置：</span>
            <div class="l clearfix">
                <a href="#" class="l pro-to">数据集成</a>
                <i class="arrow"></i>
                <span class="general">概况</span>
            </div>
        </div> -->
        <div class="content">
            <div class="error">
                 <div class="clearfix">
                    <p class="nd-title l">节点监控</p>
                    <a href="javascript:;" class="more-icon r" title="更多"></a>
                </div>
                <ul id="mods" class="error-list clearfix">
                	
                </ul>
                <a href="javascript:;" class="watch-more">查看更多</a>
            </div>
            <div class="bottom-content clearfix">
                <div class="left-part l">
                    <!-- 运行监控 -->
                    <!-- <div class="monitor">
                         <div class="clearfix">
                            <p class="nd-title l">运行监控</p>
                            <a href="javascript:;" class="more-icon r" title="更多"></a>
                        </div>
                        <span class="sub-title">任务生成告警</span>
                        <ul class="monitor-list clearfix">
                            <li>
                                <p class="num">15</p>
                                <span>创建失败</span>
                            </li>
                            <li>
                                <p class="num">15</p>
                                <span>更新失败</span>
                            </li>
                            <li>
                                <p class="num">15</p>
                                <span>删除失败</span>
                            </li>
                            <li>
                                <p class="num">15</p>
                                <span>停止失败</span>
                            </li>
                        </ul>
                        <div class="clearfix">
                            <div class="l sub-monitor">
                                <span class="sub-title">任务生成告警</span>
                                <ul class="monitor-list clearfix">
                                    <li>
                                        <p class="num">15</p>
                                        <span>调度失败</span>
                                    </li>
                                    <li>
                                        <p class="num">15</p>
                                        <span>调度周期挂载失败</span>
                                    </li>
                                </ul>
                            </div>
                            <div class="l sub-monitor">
                                <span class="sub-title">任务运营告警</span>
                                <ul class="monitor-list clearfix">
                                    <li>
                                        <p class="num">15</p>
                                        <span>运行报错</span>
                                    </li>
                                    <li>
                                        <p class="num">15</p>
                                        <span>积压警告</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div> -->
                    <!-- 任务统计 -->
                    <div class="mission">
                        <div class="clearfix">
                            <p class="nd-title l">任务统计</p>
                            <a href="javascript:;" class="more-icon r" title="更多"></a>
                        </div>
                        <div class="clearfix charts-box">
                            <div class="storage">
                                <span class="sub-title">库表集成</span>
                                <div class="charts-area clearfix">
                                    <div id="stro-charts"></div>
                                    <span class="percent" id="stro-percent"></span>
                                </div>
                            </div>
                            <div class="file">
                                <span class="sub-title">文件集成</span>
                                <div class="charts-area clearfix">
                                    <div id="file-charts"></div>
                                    <span class="percent" id="file-percent"></span>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                    <div class="mission2">
	                    <div class="clearfix charts-box">
	                    	<div class="api">
                                <span class="sub-title">api集成</span>
                                <div class="charts-area clearfix">
                                    <div id="api-charts"></div>
                                    <span class="percent" id="api-percent"></span>
                                </div>
                            </div>
                            <div class="kafka">
                                <span class="sub-title">消息集成</span>
                                <div class="charts-area clearfix">
                                    <div id="kafka-charts"></div>
                                    <span class="percent" id="kafka-percent"></span>
                                </div>
                            </div>
	                    </div>
                    	 
                    </div>
                </div>
                <!-- 右侧 -->
                <div class="right-part l">
                    <p class="nd-title">交换量趋势</p>
                    <ul class="trend-detail clearfix" style="height:185px">
                        <li>
                            <h4 class="trend-title">库表</h4>
                            <div class="clearfix trend-content">
                                <div>
                                    <span class="trend-sub-title">今日</span>
                                    <p class="trend-count"><span id="stortodaycount"></span>条</p>
                                </div>
                                <div>
                                    <span class="trend-sub-title">对比昨日</span>
                                    <p class="trend-percent"><span id="storyescompare"></span></p>
                                    
                                </div>
                                <h2 class="count-situation">
                                        本月日均：<span id="stordayaverage"></span>条
                                </h2>
                                <br>
                                <h2 class="count-situation">
                                        本月总量：<span id="stormonthcount"></span>条
                                </h2>
                            </div>
                        </li>
                        <li>
                            <h4 class="trend-title">文件</h4>
                            <div class="clearfix trend-content">
                                <div>
                                    <span class="trend-sub-title">今日</span>
                                    <p class="trend-count"><span id="filetodaycount"></span>个</p>
                                </div>
                                <div>
                                    <span class="trend-sub-title">对比昨日</span>
                                    <p class="trend-percent"><span id="fileyescompare"></span></p>
                                </div>
                                <h2 class="count-situation">
                                        本月日均：<span id="filedayaverage"></span>个
                                </h2>
                                <br>
                                <h2 class="count-situation">
                                        本月总量：<span id="filemonthcount"></span>个
                                </h2>
                            </div>
                        </li>
                        <li>
                            <h4 class="trend-title">api</h4>
                            <div class="clearfix trend-content">
                                <div>
                                    <span class="trend-sub-title">今日</span>
                                    <p class="trend-count"><span id="apitodaycount"></span>条</p>
                                </div>
                                <div>
                                    <span class="trend-sub-title">对比昨日</span>
                                    <p class="trend-percent"><span id="apiyescompare"></span></p>
                                </div>
                                <h2 class="count-situation">
                                        本月日均：<span id="apidayaverage"></span>条
                                </h2>
                                <br>
                                <h2 class="count-situation">
                                        本月总量：<span id="apimonthcount"></span>条
                                </h2>
                            </div>
                        </li>
                        <li>
                            <h4 class="trend-title">消息</h4>
                            <div class="clearfix trend-content">
                                <div>
                                    <span class="trend-sub-title">今日</span>
                                    <p class="trend-count"><span id="kafkatodaycount"></span>条</p>
                                </div>
                                <div>
                                    <span class="trend-sub-title">对比昨日</span>
                                    <p class="trend-percent"><span id="kafkayescompare"></span></p>
                                </div>
                                <h2 class="count-situation">
                                        本月日均：<span id="kafkadayaverage"></span>条
                                </h2>
                                <br>
                                <h2 class="count-situation">
                                        本月总量：<span id="kafkamonthcount"></span>条
                                </h2>
                            </div>
                        </li>
                    </ul>
                    <!-- 图表 -->
                    <div class="charts-tab">
                        <!-- 时间范围选择 -->
                        <div class="range-choose clearfix">
                            <ul class="range-list clearfix l">
                                <li data-id="01" class="date-item active">今日</li>
                                <li data-id="02" class="date-item">昨日</li>
                                <li data-id="03" class="date-item">近一周</li>
                                <li data-id="04" class="date-item">本月</li>
                                <li data-id="05" class="date-item">本年</li>
                            </ul>
<!--                             <input type="text" id="datePick" placeholder="请选择时间" class="datePick"> -->
                        </div>
                        <!-- tab -->
                        <div class="tab">
                            <ul class="tab-hd">
                                <li class="stro-icon">库表</li>
                                <li class="file-icon">文件</li>
                                <li class="file-icon">api</li>
                                <li class="file-icon">消息</li>
                            </ul>
                            <div class="tab-bd">
                                <div class="stro-line"></div>
                                <div class="file-line"></div>
                                <div class="api-line"></div>
                                <div class="kafka-line"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="../../rest/resource/jsboot"></script>
    <script>
        // 接口
        var mission = "",
        	mission2 = ""
            trend = "";
//         var mission = "test/getChartsData",
//             trend = "test/getTrend";
    </script>
    <script id="mod-tmpl" type="application/x-mustache">
        {{#mods}}
            <li class="error-item{{classTemple}}" id= "{{templateName}}">
            	<div class="node">
            		<p class="node-title ellicape">{{templateName}}</p>
            		<div class="clearfix service">
           			<ul class="l">
            			<li>异常服务器：<span class="wrong">{{errorCount}}</span></li>
            			<li>总服务器数：<span class="total">{{totalCount}}</span></li>
            		</ul>
            		<i class="right-icon r"></i>
            		</div>
					<a href="javascripet:;" class="more-nodeicon" data-id={{nodeguid}}></a>
            	</div>
            </li>
        {{/mods}}
    </script>
    <script>
        SrcBoot.output([
            "../js/echarts.min.js",
            "../js/laydate/laydate.js",
            "../js/jquery-tab.js",
            "../js/common.js",
            "./js/general.js"
        ]);
    </script>
</body>

</html>