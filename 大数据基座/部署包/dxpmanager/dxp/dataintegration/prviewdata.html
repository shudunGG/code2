<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"></meta>
<meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
<title>数据预览</title>
<script src="../../frame/fui/js/cssboot.js"></script>
</head>
<body>
	<div class="page-loading"></div>
	<div class="fui-content">
		<div id="datagrid" class="mini-datagrid" 
			style="width: 100%; height: 100%;" action="getTableData"
			showPager="false" allowCellEdit="true" allowCellSelect="true"
			editNextOnEnterKey="true" editNextRowCell="true"></div>
	</div>

	<script src="../../rest/resource/jsboot"></script>
	<script type="text/javascript">
		//<![CDATA[
		epoint.initPage("dxppreviewdataaction", '', callbackinit);
		var grid = mini.get("datagrid");
		// 初始化回掉，动态生成列
		function callbackinit(data) {

			//adjustContentHeight();//隐藏的condition出来 要重新计算一次高度
			if (data) {
				drawDynamicColumn(data);
				grid.reload();
			}
		}

		// 绘制动态列
		function drawDynamicColumn(data) {
			var tmp = data.columns;
			console.log(tmp);
			var columns = eval('(' + tmp + ')');
			grid.set(columns);
		   // grid.frozenColumns(0, 3);
		}
		//]]>
	</script>
</body>
</html>