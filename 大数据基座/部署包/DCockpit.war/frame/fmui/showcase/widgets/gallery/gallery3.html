<!-- 
        作者：guotq
        创建时间: 2017/06/05
        版本: [1.0, 2017/06/05 ]
        版权: 江苏国泰新点软件有限公司
        描述： 测试的图片轮播页面
        这里使用了自定义处理接口数据，并且使用了默认的轮播数据
-->
<!DOCTYPE html >
<html lang="zh-CN">

    <head>
        <meta charset="UTF-8">
        <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
        <meta name="format-detection" content="telephone=no, address=no, email=no">
        <title>轮播3</title>
        <script>
            document.write("<script src='../../../js/cssboot.js?" + Math.random() + "'></scr" + "ipt>");
        </script>
    </head>

    <body>
        <div id="gallery"></div>

        <script>
            document.write("<script src='../../../js/jsboot.js?" + Math.random() + "'></scr" + "ipt>");
        </script>
        <script>
            "use strict";

            Util.loadJs([
                'js/widgets/gallery/gallery.js',
            ], function() {
                initPage();
            });

            /**
             * 页面初始化请走这个函数
             */
            function initPage() {
                new Gallery({
                    container: '#gallery',
                    url: '//115.29.151.25:8012/request.php?action=testV7Gallery',
                    type: 'POST',
                    // 测试隔一段时间再请求真实数据
                    delay: 600,
                    dataRequest: JSON.stringify({
                        token: 'RXBvaW50X1dlYlNlcml2Y2VfKiojIzA2MDE=',
                        params: {
                            picnum: 3,
                            catenum: '222'
                        }
                    }),
                    dataChange: function(response) {
                        return Util.dataProcess(response, {
                            dataPath: 'custom.gallery'
                        }).data;
                    },
                    data: [{
                        guid: "testgallery1",
                        title: "", //为空
                        pic: "./images/testgallery4.jpg"
                    }, {
                        guid: "testgallery2",
                        title: "", //为空
                        pic: "./images/testgallery3.jpg"
                    }, {
                        guid: "testgallery3",
                        title: "", //为空
                        pic: "./images/testgallery2.jpg"
                    }, {
                        guid: "testgallery4",
                        title: "", //为空
                        pic: "./images/testgallery1.jpg"
                    }],
                    itemClick: function(e, id) {
                        console.log("点击:" + id);
                    }
                });
            }
        </script>
    </body>

</html>