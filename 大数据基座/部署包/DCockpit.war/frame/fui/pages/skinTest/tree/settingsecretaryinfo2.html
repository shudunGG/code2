<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>秘书岗设置</title>
    <script src="../../../../frame/fui/js/cssboot.js"></script>
    <script>
        if (!location.search) {
            location.search = '?userGuid=45f0c5f9-cad2-49e6-887d-b38dfcbc23de&isSub=';
        }
    </script>
    <style>
        .area-trees {
            display: flex;
        }

        .tree-special-checkbox {
            width: 18px;
            height: 18px;
            border: 2px solid transparent;
        }

        .tree-special-checkbox.checkbox-select2 {
            border-color: yellow;
            margin-left: 4px;
            ;
        }

        .area-list .mini-textboxlist {
            height: 300px;
        }

        .area-list .mini-textboxlist-item {
            display: block;
            width: 100%;
            box-sizing: border-box;
        }
    </style>
</head>

<body>
    <div class="mini-tabs" id="tabs1">
        <div title="Tab1" name="tab1"></div>
        <div title="Tab2" name="tab2"></div>
        <div title="Tab3" name="tab3"></div>
    </div>
    <div class="area-trees" style="height: 50vh;">
        <ul id="tree1" class="mini-tree" action="getTreeModel" ondrawnode="drawTreeNode" expandOnNodeClick="false"
            style="height: 100%"></ul>
    </div>

    <div class="area-list">
        <input id="textboxlist1" class="mini-textboxlist" valueField="id" textField="text" onremoveitem="listBoxRemoveItem" />
        <input id="textboxlist2" class="mini-textboxlist" valueField="id" textField="text" onremoveitem="listBoxRemoveItem" />
    </div>
    <script src="../../../../rest/resource/jsboot"></script>
    <script>
        window.subMockData = {
            // 销售部数据模拟
            '38219abf-3ae8-4a81-bef9-f4408e74390c': [{
                "id": "00f28488-4e05-4746-8550-de071a165f87",
                "text": "555"
            }, {
                "id": "9fa6e670-e33d-4922-8f3e-c19af338b511",
                "text": "99"
            }, {
                "id": "9c8693c4-5684-498b-87f6-b93978a0edfe",
                "text": "445"
            }],
            '10e65238-c203-462d-a7da-d199670556b9': [{
                "id": "8357675f-f7df-47db-a050-272483ae2f18",
                "text": "57"
            }, {
                "id": "35d21199-7507-4e53-893b-a38aa3941432",
                "text": "213213213"
            }, {
                "id": "4286c8f5-8f94-4b68-9124-08624a0a10dc",
                "text": "123"
            }, {
                "id": "615a3bf2-0439-474b-bff2-ba93d08a1f88",
                "text": "765"
            }, {
                "id": "cecb314e-e8ce-4108-b790-28567a85268c",
                "text": "567"
            }, {
                "id": "6d15b469-2073-4bb9-9415-fd51b6b7533f",
                "text": "wy"
            }, {
                "id": "2e307e3b-6b1c-4240-af7f-277da6dba6d1",
                "text": "qwe"
            }, {
                "id": "89276859-d095-4f9f-9697-2aed1d900d63",
                "text": "58"
            }, {
                "id": "fffe94ec-7142-4f4e-ba8a-07379ebf85bb",
                "text": "3455"
            }, {
                "id": "00f28488-4e05-4746-8550-de071a165f87",
                "text": "555"
            }, {
                "id": "9c8693c4-5684-498b-87f6-b93978a0edfe",
                "text": "445"
            }]
        }
    </script>
    <script>
        SrcBoot.output([
            'frame/fui/pages/skinTest/tree/doublecheckboxtree.js'
        ]);
    </script>
    <script>
        var tabs1 = mini.get('tabs1');
        // 切换tab时更新树的action地址
        tabs1.on('activechanged', function (e) {
            updateTreeUrl(e.tab);
        });

        function updateTreeUrl(tab) {
            var activeTab = tab || tabs1.getActiveTab();
            tree1.setAutoLoad(false);

            // 设置参数 更新地址
            var url = tree1.getUrl();
            if (!/\?tab=.+/.test(url)) {
                url += '?tab=' + activeTab.name;
            } else {
                url = url.replace(/\?tab=.+/, '?tab=' + activeTab.name);
            }
            // console.log(url);
            tree1.setUrl(url);
            tree1.reload();
        }

        //初始化请求
        epoint.initPage('settingsecretaryinfoaction', null, function (data) {

        });
    </script>
</body>

</html>