<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>卡片模板</title>
    <script src="../../../fui/js/cssboot.js"></script>
    <script>
        SrcBoot.output([
            '../css/common.css',
            './css/card_management.css'
        ]);
    </script>
</head>

<body>
    <div class="page-loading"></div>
    <!-- 条件区域 -->
    <div class="fui-condition">
        <div class="condition clearfix">
            <div class="condition-left l clearfix" id="operate">
                <a class="mini-button">导入卡片模板</a>
                <a class="mini-button">同步卡片模板</a>
                <a class="mini-button" id="startorder" onclick="startOrder">开始排序</a>
                <div class="operate-btn-extend clearfix " id="orderextend">
                    <a class="mini-button" onclick="saveOrder">保存排序</a>
                    <a class="mini-button" onclick="cancelOrder">取消排序</a>
                </div>
            </div>
            <div class="condition-right r">
                <input id="status" class="mini-combobox l" showNullItem="true" textField="text" valueField="id" value="" onValueChanged="typeChange"
                    emptyText="全部状态"
                    data='[{id: "4", text: "全部"},{id: "0", text: "未申请"},{id: "1", text: "审批中"},{id: "2", text: "已有权限"}]'
                    style="width: 100px; height: 30px;" />

                <div class="search-box l">
                    <input type="text" class="search-input" id="search-name" placeholder="请输入关键字">
                    <a class="ico-search" href="javascript:;" id="search"></a>
                </div>
            </div>
        </div>
    </div>
    <div class="fui-content">
        <div class="main">
            <ul class="card-items clearfix" id="card-items">


            </ul>
        </div>
        <div class="pager-container">
            <div class="mini-pagination" totalCount="0" onpagechanged="onPageChanged" sizeList="[5,10,20,100]" id="cardpageer"
                showPageSize="true" showPageIndex="true" showPageInfo="true" buttons="#buttons">
            </div>
        </div>
    </div>

    <script type="text/html" id="card-items-tmpl">
        {{#dataList}}
        <li class="card-item l ">
            <img class="card-item-img" src="{{img}}" title="{{name}}" />
            <span class="card-item-btn {{status}}">{{statusshow}}</span>
            <div class="card-item-name">{{name}}</div>
            <div class="card-item-extend clearfix">
                <a class="extend-btn {{status}} l" href="javascript:;">{{statusBtnShow}}</a>
                <a class="extend-btn view l" href="javascript:;" data-id="{{guid}}">查看</a>
                <a class="extend-btn delete l" href="javascript:;">删除</a>
            </div>
            <div class="order-area clearfix">
                <input class="order-ipt" type="text" maxlength="3" data-id="{{guid}}" text="{{ordernum}}" value="{{ordernum}}" data-oldvalue="{{ordernum}}" onkeyup="value=value.replace(/^(0+)|[^\d]+/g,'')"/>
            </div>
        </li>
        {{/dataList}}
    </script>


    <!-- 接口配置 -->
    <script>
        window.pageConfig = {
            getCardListUrl: 'getCardListUrl', // 获取卡片列表
            editOrderNumUrl: 'editOrderNumUrl', // 保存排序
            enableItemUrl: 'enableItemUrl', // 启用按钮
            disableItemUrl: 'disableItemUrl', // 停用按钮
            deleteItemUrl: 'deleteItemUrl', // 删除按钮
        }
    </script>

    <script src="../../../fui/js/jsboot.js"></script>

    <!-- 模拟数据 -->
    <script src="../_test/mock.min.js"></script>
    <script src="./_test/test_card_management.js"></script>

    <script>
        SrcBoot.output([
            '../js/remfit.js',
            '../js/util.js',
            './js/card_management.js',
        ]);
    </script>
    <script>
        Util.hidePageLoading();
    </script>
</body>

</html>