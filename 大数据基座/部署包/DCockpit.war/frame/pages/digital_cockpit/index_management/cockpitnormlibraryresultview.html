<!DOCTYPE html>
<html>

<head>
<title>样例数据</title>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<!-- 请修改相对路径 -->
<script src="../../../fui/js/cssboot.js"></script>
</head>

<body>
	<!-- 必须有，加载时的loading效果 -->
	<div class="page-loading"></div>

	<!-- 内容区域 -->
	<div id="fuiContent" class="fui-content">
		<div id="datagrid" class="mini-datagrid" idField="rowguid"
			action="getDataGridData" sortOrder="desc" showPager="true"
			style="width: 100%; height: 100%;" allowResize="true"
			multiSelect="true" allowCellEdit="true" allowCellSelect="true"
			editNextOnEnterKey="true" editNextRowCell="true">
			<div property="columns"></div>
		</div>
	</div>
	<script src="../../../fui/js/jsboot.js"></script>
	<script>
		// 初始化页面
		epoint.initPage('cockpitnormlibraryresultviewaction', null, function(e) {
			if (e.msg == "error") {
				epoint.alert("数据异常");
				return;
			}
			if (e.joblogCount == 0) {
				epoint.alert("该指标还未运行，暂无数据", "查看数据");
			} else {
				if (e.count == 0) {
					epoint.alert("上次执行无结果，请检查指标配置或查看执行日志");
				}
			}		
			createGrid(e.columns);
		});
		
		var grid = mini.get("datagrid");
		function createGrid(columns) {
			
			grid.setColumns(columns);
		}
	</script>
</body>
</html>