<!DOCTYPE html>
<html lang="zh-CN">

<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>统计看板</title>
<script src="../../../fui/js/cssboot.js"></script>
<script>
	SrcBoot.output([ '../css/common.css', './css/statistics.css' ]);
</script>
</head>

<body>
	<div class="page-loading"></div>

	<div class="fui-content">
		<div class="cont">
			<!-- 总览 -->
			<ul class="stattotal">
				<li class="proj"><span class="stattotal-name">专题总数</span> <span
					class="stattotal-val" id="total-proj" data-unit="个">0</span></li>
				<li class="ind"><span class="stattotal-name">指标总数</span> <span
					class="stattotal-val" id="total-ind" data-unit="个">0</span></li>
				<li class="indexset"><span class="stattotal-name">指标分类总数</span>
					<span class="stattotal-val" id="total-indexset" data-unit="个">0</span>
				</li>
			</ul>
			<!-- 专题访问量统计 -->
			<div class="mod volume">
				<h3 class="mod-title clearfix">
					<span class="l">专题访问量统计</span>
					<ul class="mod-tab r">
						<li class="active" data-id="today">今日</li>
						<li data-id="week">近7天</li>
						<li data-id="month">近30天</li>
					</ul>
				</h3>
				<div class="volume-echart" id="volume-echart"></div>
			</div>
			<!-- 热点指标TOP5 -->
			<div class="mod hotind hidden">
				<h3 class="mod-title">热点指标TOP5</h3>
				<div class="hotind-cont clearfix">
					<div class="hotind-tablebox l">
						<table class="hotind-table">
							<colgroup>
								<col width="60px" />
								<col />
								<col width="75px" />
							</colgroup>
							<thead>
								<tr>
									<th class="sorttitle">排序</th>
									<th class="indname">指标名称</th>
									<th>热度</th>
								</tr>
							</thead>
							<tbody id="hotind-tablecont">

							</tbody>
						</table>
					</div>
					<div class="hotind-echart r" id="hotind-echart"></div>
				</div>
			</div>
			<!-- 部门排名TOP5 -->
			<div class="mod ranking">
				<h3 class="mod-title">部门排名TOP5</h3>
				<div class="ranking-cont clearfix">
					<div class="exhibit l">
						<h4 class="moditem-title clearfix">
							<span class="l">对外展示情况</span>
							<ul class="mod-options r">
								<li class="active" data-id="projnums">专题数</li>
								<li data-id="indnums">指标数</li>
								<!-- <li data-id="heat">热度</li> -->
							</ul>
						</h4>
						<div class="ranking-tablebox ">
							<!-- datagrid -->
							<div id="datagrid1" class="mini-datagrid" idField="id"
								action="getDataGridData" style="width: 100%; height: 100%;"
								showPager="false">
								<div property="columns">
									<div type="indexcolumn" align="center" headerAlign="center">排名</div>
									<div field="name" align="center" headerAlign="center">部门名称</div>
									<div field="nums" name="nums" align="center"
										headerAlign="center">专题数</div>
								</div>
							</div>
						</div>
					</div>
					<div class="warning r">
						<h4 class="moditem-title clearfix">
							<span class="l">预警情况</span>
							<ul class="mod-options r">
								<li class="active" data-id="projnums">预警数</li>
								<li data-id="redlightnums">红灯数</li>
								<li data-id="redlightrate">红灯处理及时率</li>
							</ul>
						</h4>
						<div class="ranking-tablebox ">
							<!-- datagrid -->
							<div id="datagrid2" class="mini-datagrid" idField="id"
								action="getDataGridData2" style="width: 100%; height: 100%;"
								showPager="false">
								<div property="columns">
									<div type="indexcolumn" align="center" headerAlign="center">排名</div>
									<div field="name" align="center" headerAlign="center">部门名称</div>
									<div field="nums" align="center" headerAlign="center">预警数</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div id="fui-options">
					<!-- 添加隐藏域，用于选项与表格的联动 -->
					<input bind="exhibitval" id="exhibitval" class="mini-hidden" /> <input
						bind="warningval" id="warningval" class="mini-hidden" />
				</div>
			</div>
		</div>
	</div>

	<!-- 热点指标 TOP5 模板 -->
	<script type="text/html" id="ranking-tmpl">
    {{#ranking}}
        <tr class="{{#isActive}}active{{/isActive}}" data-id="{{guid}}">
            <td class="sort">{{sort}}</td>
            <td class="indname">{{name}}</td>
            <td>{{hotval}}</td>
        </tr>
    {{/ranking}}
    </script>

	<script src="../../../fui/js/jsboot.js"></script>

	<!-- 接口配置 -->
	<script>
		window.pageConfig = {
			getRanking : 'getRanking', // 热点指标TOP5 表格
			getHotind : 'getHotind', // 热点指标TOP5 热度图表
			initPage : 'cockpitstatisticsaction',
		}
	</script>



	<!-- 模拟数据 -->
	<script src="../_test/mock.min.js"></script>
	<script src="./_test/test_statistics.js"></script>

	<script>
		SrcBoot.output([ '../js/lib/echarts.min.js', '../js/util.js',
				'./js/statistics.js', ]);
	</script>
	<script>
		Util.hidePageLoading();
	</script>
</body>

</html>