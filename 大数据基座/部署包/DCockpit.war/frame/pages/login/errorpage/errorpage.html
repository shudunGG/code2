<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta name="renderer" content="webkit" />
    <script src="../../../fui/js/cssboot.js"></script>
    <script>
        SrcBoot.output(['./errorpage.css']);
    </script> 
    <title>error</title>
</head>

<body>
    <div class="page-loading"></div>    
    <div class="error-header">
        <p class="error-title">很抱歉！系统出了点小问题，请联系管理员......</p>
        <a id="btn" class="mini-button error-btn" onclick="showError">查看详细信息</a>
    </div>
    <div id="content" class="error-content hidden">
        <i class="icon-close"></i>
        <p id="error-text" class="error-text" >
        </p>
    </div>
    <script src="../../../fui/js/jsboot.js"></script>
    <script type="text/javascript">
        var btn = mini.get('btn');
        var $content = $('#content'),
            $text = $('#error-text');
        
        epoint.initPage('errorpageaction', '', function(data) {
            var text = data.text;

            if(text) {
                $text.html(text);
            } else {
                $('body').addClass('no-message');
            }
        });
        
        function showError() {
            $content.removeClass('hidden');
            btn.hide();
        }

        $content.on('click', '.icon-close', function(){
            $content.addClass('hidden');
            btn.show();
        });
        
    </script>
</body>

</html>
