<!DOCTYPE html>
<html>

<head>
<title></title>
<meta charset="UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" />
<script src="../../../fui/js/cssboot.js"></script>
<link href="../css/popup.css" rel="stylesheet" type="text/css" />
<link href="../css/workflowdesign.css" rel="stylesheet" />

	<style type="text/css">
	A
	{
  			 color: black;
 			 text-decoration: none;
	}
	A:hover
	{
  			 color: red;
 			 text-decoration:  underline;
	}
	</style>
</head>

<body>
	<div class="page-loading"></div>

		<div id="fuiContent" class="fui-content">
<!-- 			<input bind="processinstanceflowchartbrowseraction.processVersionInstanceGuid" -->
<!-- 				class="mini-textbox" style="display:none;"/> -->
<!-- 			<input bind="workitemlistnewaction.manage" -->
<!-- 				class="mini-textbox" style="display:none;"/> -->
			
			<div id="tabs1" class="mini-tabs" activeIndex="0" style="width:100%;height:100%;" plain="false">
			    <div title="The flow chart" >
				       <div style="float: right;" id="table1">
	                        <table border="0" cellpadding="0" cellspacing="0" style="height: 40px; font-size: 9pt;">
	                            <tr align="right">
	                                <td style="width: 80px" align="center">legend<br />
	                                    	instructions
	                                </td>
	                                <td style="width: 10px"></td>
	                                <td>
	                                    <img src="../image/FlowChartIco/noTransActivity.png" alt='Not at the steps' title='This step already have yet to begin to deal with。'
	                                        style="border: 0; width: 40; height: 40;" />
	                                </td>
	                                <td>Not at the steps
	                                </td>
	                                <td style="width: 10px"></td>
	                                <td>
	                                    <img src="../image/FlowChartIco/waitTodo.png" alt='This step is being dealt with。' title='To deal with the steps' style="border: 0; width: 40; height: 40;" />
	                                </td>
	                                <td>To deal with the steps
	                                </td>
	                                <td style="width: 10px"></td>
	                                <td>
	                                    <img src="../image/FlowChartIco/doneActivity.png" alt='Have completed the steps' title='This step is complete。' style="border: 0; width: 40; height: 40;" />
	                                </td>
	                                <td>Have completed the steps
	                                </td>
	                                <td style="width: 10px"></td>
	                                <td>
	                                    <img src="../image/FlowChartIco/overdatedDone.png" alt='This step has been extended。' title='Are completed steps (mark are configurable)'
	                                        style="border: 0; width: 40; height: 40;" />
	                                </td>
	                                <td>Expiration of the step has been completed
	                                </td>
	                                <td style="width: 10px"></td>
	                                <td>
	                                    <img src="../image/FlowChartIco/overdatedUndone.png" alt='This step has been extended。' title='Are the steps to be processed (mark are configurable)'
	                                        style="border: 0; width: 40; height: 40;" />
	                                </td>
	                                <td>Are the steps to be processed
	                                </td>
	                                <td style="width: 10px"></td>
	                                <td>
	                                    <img src="../image/FlowChartIco/noChanges.png" alt='Not flow path' title='No flow path' style="border: 0; width: 40; height: 40;" />
	                                </td>
	                                <td>Not flow path
	                                </td>
	                                <td style="width: 10px"></td>
	                                <td>
	                                    <img src="../image/FlowChartIco/hasChanges.png" alt='Has flow path' title='Has been flow path' style="border: 0; width: 40; height: 40;" />
	                                </td>
	                                <td>Has flow path
	                                </td>
	                            </tr>
	                        </table>
					</div>
					<div id="WorkFlowWrapper" style="overflow:hidden"></div>
                    <div id="panel">
                        <div id="info" runat="server" style="position: absolute; display: none; width: 750px; height: 260px; z-index: 102; opacity: 100; border: solid 1px #CCCCCC; padding: 0px;">
                            <div id="pnlHead1" class="head">
                                <div id="ActivityName" class="title" style="width: 730px;padding:0px 0px 0px 0px;">
                                </div>
                                <div id="btnCloseParent" style="float: right; opacity: 100;">
                                    <img id="btnClose" src="../image/DragPanel/close.gif" style="cursor: pointer;"
                                        description="Shut down"  title="#{msgs.gb}" width="15" height="15" />
                                </div>
                            </div>
                            <div>
                                <iframe id='PageDetail' style="width: 100%; height: 230px; border: 0px" frameborder="0"></iframe>
                            </div>
                        </div>
                    </div>
			    </div>
			    <div title="To handle the process" >
			    	 <div id="datagrid1" class="mini-datagrid" sortOrder="desc"
						idField="workItemGuid" multiSelect="true"
						style="width: 100%; height: 100%;" allowResize="true"
						action="workitemlistnewaction.getResultListModel" showPager="false">
						<div property="columns">
	
							<div type="indexcolumn" headerAlign="center" width="20">
								order
							</div>
							<div field="activityName" width="80" align="center"  headerAlign="center">
								steps
							</div>
							<div field="username" width="80" align="center"  headerAlign="center">
								To deal with personnel
							</div>
							<div field="operationname" width="80" align="center"  headerAlign="center">
								operation
							</div>
							<div field="reDate" width="150" align="center"  dateFormat="yyyy-MM-dd HH:mm:ss"  headerAlign="center">
								Receiving time
							</div>
							<div field="opDate" width="150" align="center" dateFormat="yyyy-MM-dd HH:mm:ss"   headerAlign="center">
								The processing time
							</div>
							<div field="handleopinion" width="100%" align="center"  headerAlign="center">
								Processing opinion
							</div>
							<div field="sendusername" width="80" align="center"  headerAlign="center">
								Submit personnel
							</div>
						</div>
					</div>
			    </div>
			    <div title="stepsinstructions">
			        <div id="datagrid2" class="mini-datagrid" 
						idField="attachguid" multiSelect="true" action="workitemlistnewaction.getResultListModel1"
						style="width: 100%; height: 100%;" allowResize="true"
						showPager="false">
						<div property="columns">
							<div field="activityName"  headerAlign="center" align="center">
								steps <input property="editor" class="mini-textbox"
									style="width: 100%;" minWidth="200" />
							</div>
							<div field="note" width="100"  headerAlign="center">
								instructions<input property="editor" class="mini-textbox"
									style="width: 100%;" minWidth="200" />
							</div>
						</div>
					</div>
			    </div>
			</div>
		</div>

	
 
 	<script type="text/javascript">var miniLocal='en_US.js';</script>
 	<script src="../../../../rest/resource/jsboot"></script>
	<script src="../js/raphael-min.js"></script>
	<script src="../js/graffle.js"></script>
	<script src="../js/workflowbrowser_new.js"></script>
	<script src="../js/raphael.export.js"></script>
		<script>
		epoint.initPage("workitemlistnewaction");
		//epoint.initPage("processinstanceflowchartbrowseraction");
		
		var panel_detailPanel = $("#panel").children().get(0).id;
        var DetailPanelId = panel_detailPanel.replace(/:/g,"\\:");
        $(document).ready(function () {
            try {
                if (!window.frameElement) {
                    window.moveTo(0, 0);
                    window.resizeTo(window.screen.availWidth, window.screen.availHeight);
                }
            }
            catch (err)
            { }
            
            $('.ui-tabs-panel').each(function(){
            	$(this).height($(window).height() - 33);
            	$(this).width($(document).width() - 4);
            	
            });
            $("#panel").height(0);
            
            $("#table1").attr("style", "height:44px;");
            
            epoint.execute('processinstanceflowchartbrowseraction.readJson', '',ReadXMLHd);
            $("#btnClose").click(function () {
                $("#" + DetailPanelId).hide();
            });
            
            $(window).resize(function () {
            	$('.ui-tabs-panel').each(function(){
                	$(this).height($(window).height() - 33);
                	$(this).width($(document).width() - 4);
                });
            })
            $(document).click(function () {
                $("#" + DetailPanelId).hide();
            });
        });
		</script>

	</body>

</html>
