<!DOCTYPE html>
<html>

<head>
<title>Address block set</title>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />

<script src="../../../../fui/js/cssboot.js"></script>
</head>
<body>
	<!-- This must have,it is loaded with some loading effect -->
	<div class="page-loading"></div>
	<!-- toolbar area -->
	<div class="fui-toolbar">
		<div class="btn-group mr10">
			<a class="mini-button" onclick="add">sure add</a> <a class="mini-button"
				onclick="saveAll">save changes</a>
		</div>
	</div>




	<!-- conditions area -->
	<div class="fui-condition">
		<div class="fui-form" id="fui-form">
			<div role="form">
				<div role="row">
					<div role="control" label="Address group name" started="true">
						<input bind="addressgrouplistaction.frameMyAddressGroup.groupName"
							class="mini-textbox" required="true" requiredErrorText="Department name cannot be empty"
							vtype="maxLength:50" />
					</div>
					<div role="control" label="order no">
						<input
							bind="addressgrouplistaction.frameMyAddressGroup.orderNumber"
							class="mini-textbox" vtype="range:0,99999;int" />
					</div>
				</div>
			</div>
		</div>
	</div>


	<!-- content area -->
	<div class="fui-content">
		<div id="datagrid" name="datagrid" class="mini-datagrid"
			idField="groupguid" multiSelect="true"
			style="width: 100%; height: 100%;" allowResize="true"
			showPager="true" action="addressgrouplistaction.getDataGridData"
			allowCellEdit="true" allowCellSelect="true" editNextOnEnterKey="true"
			editNextRowCell="true">
			<div property="columns">
				<div type="indexcolumn" width="50" headerAlign="center">
					order
				</div>
				<div field="groupName" width="100%"  headerAlign="center">
					Address group name <input property="editor" class="mini-textbox" />
				</div>
				<div field="orderNumber" width="300" headerAlign="center" align="right">
					rowordervalue <input property="editor" class="mini-textbox" vtype="int" />
				</div>
				<div field="sum" width="300" headerAlign="center" align="center">Contains the address book</div>
				<div width="150" align="center" headerAlign="center"
					renderer="onDelRenderer">
					delete
				</div>
			</div>
		</div>
	</div>
</body>




 
 	<script type="text/javascript">var miniLocal='en_US.js';</script>
 	<script src="../../../../../rest/resource/jsboot"></script>

<!-- Configuration Variables -->
<script>
	//<![CDATA[  
	//Initialize the page
	epoint.initPage("addressgrouplistaction");

	// Draw the linedeletebutton
	var onDelRenderer = function(e) {
		return epoint.renderCell(e, "action-icon icon-remove", "deleteSelect",
				"groupguid");
	};

	//newbuttoncallback
	// newOperation of thecallback
	function newCallback(data) {
		if (data.msg) {
			epoint.alert(data.msg, null, null, 'info');
			if (data.success) {
				// Empty form
				epoint.clear('fui-form');
				epoint.refresh("datagrid", '', true);
			}
		}
	}

	//newbutton
	function add() {
		if (epoint.validate()) {
			epoint.execute('add', 'fui-form', newCallback);
		}
	}

	//deletebutton
	function deleteSelect(groupguid) {
		epoint.confirm("Are you sure to delete the selected record?", "", function(action) {
			epoint.execute("delete", "", [ groupguid ], function(data) {
				if (data.msg) {
					epoint.alert(data.msg, null, null, 'info');
					epoint.refresh("datagrid", '', true);
				}
			});
		});
	}

	//savecallbackThe event
	function saveCallback(data) {
		epoint.alert(data.msg, null, null, 'info');
		epoint.refresh("datagrid", '', true);
	}

	//save changes
	function saveAll() {
		epoint.execute('saveAll', 'datagrid', saveCallback);
	}

	//]]>
</script>
</html>
