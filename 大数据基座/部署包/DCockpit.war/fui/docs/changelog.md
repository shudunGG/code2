# fui目录更新日志

## 2019-04-23

- 【新增需求】 `TabsTreeSelect` 控件新增意见排序功能

## 2019-03-15

- 【优化调整】初始化出错时，不再去除 `page-loading` 遮罩

## 2019-03-29

- 【优化调整】 `Util.addUrlParams(url, params, replaceMode) ` 新增第三个参数  `replaceMode` ，配置为 true 时，将替换原有参数而不是构成数组
- 【优化调整】 `Util.addUrlParams(url, params, mode)` 第三个参数类型修改： 具体如下：
  - * @param {String} mode 重名参数处理方式 可选值 normal、 replace、 ignore
  - * 默认为 normal 即 URLSearchParams 标准规范规则 重名参数构成数组
  - * replace 用新参数替换原有重名参数
  - * ignore 存在重名参数时保留之前的值，忽略新加入的

- `TabsTreeSelect` 控件新增切换tab时保留搜索条件功能

## 2019-03-27

- 安全整改后，commondto 提交的数据中不再对控件的 `text` 值做 html 标签的移除

## 2019-03-22

- 【bug修复】 grace主题左侧菜单宽度调宽 20px ，解决IE下出滚动条后模块只能显示4个字的问题

## 2019-03-20

- 【bug修复】 解决手风琴布局 `setTitle` 方法未更新导航上的 title 问题

- 【新增需求】 新增动态表单功能

## 2019-03-19

- 【新增需求】 安全整改后，后端不再直接输出html，树控件节点样式个性化通过新增节点属性 `textCls` 来控制

- 【bug修复】 安全整改后对于下拉控件选值后，后端转义的html标签需要还原回来

## 2019-03-18

- 【需求变更】 安全整改后要求前端不用再对输入的数据做处理，所以表格提交数据时不再对数据中的html标签做转义

## 2019-03-15

- 【需求变更】 安全整改后服务端不再输出html，`FilterTree` 的搜索高亮效果改为客户端实现

## 2019-03-12

- 【bug修复】解决快捷登录第二次弹出时上次输入的密码仍保留的问题

- 【bug修复】解决ueditor内部默认样式与框架不一致问题

## 2019-03-11

- 【新增需求】 commondto 提交数据是否对关键字编码通过系统参数 `enableFrontSpecialEncode` 控制（9.1~9.3 最新版即安全版本）

## 2019-03-04

- 【新增需求】 `TabsTreeSelect` 新增 `addTab` 方法，以实现动态添加 tab 的需求（9.3,9.2）

## 2019-01-28

- 更新 `Mustache` 版本到 3.0.1 （9.1~9.3 最新版即安全版本）
- 替换 jQuery / jQueryUI / Mustache 的版本号 （9.1~9.3 最新版即安全版本）
- 安全整改相关内容

## 2019-01-22

- 还原 `Util.getRightUrl` 方法对相对路径的处理（9.2,9.3）

- 解决 `Util.getRightUrl` 方法处理相对虚拟目录的路径会多一个斜杠的问题（9.2,9.3）

## 2019-01-17

- 解决 `PagerTree` 控件刷新后再次刷新展开状态丢失问题（9.2,9.3）

## 2019-01-10

- 解决 `TreeGrid` 控件分页信息不对问题

- 调整表单验证失败后，在当前页面不显示时，不再弹出 alert 提示框

## 2019-01-03

- 更新 `epoint.showTips` 方法效果的样式（9.2,9.3）

## 2019-01-02

- 解决 `TabsTreeSelect` 控件的 `canCheckParent` 为 `false` 时，右侧列表有父节点无法删除问题（9.2,9.3）

- 调整手风琴和表单布局的最大宽度，适应 1920 分辨率（9.2,9.3）

## 2018-12-27

- `PagerTree` 控件添加通过 `epoint.execute` 方法刷新时也可以保持展开状态（9.2,9.3）

- 解决 `TabsTreeSelect` 控件勾选左右不同步问题（9.2,9.3）

- 扩充框架模块字体图标（9.2,9.3）

## 2018-12-25

- 重写 `JSON.parse` 方法，以保证参数为对象时不会报错（9.2,9.3）

## 2018-12-15

- 新增 `DateRangePicker` 控件（9.2,9.3）

## 2018-12-11

- 优化 `Util.UserEvent` 事件相关内容.(9.2, 9.3)

## 2018-12-03

- 针对重要的js代码使用特殊混淆器进行进一步混淆（9.1，9.2,9.3)
- 不再Util.ajax和openDialog中处理url，统一到Util.getRightUrl中自动加密url（9.2，9.3）

## 2018-11-23

- 迁移url和请求数据加密功能（9.2）
- 优化获取url参数的方法（9.3 9.2）

## 2018-11-22

- 剥离 `emsglist` 组件的样式，主界面的 css 中不再需要额外写，只需直接引用（9.2,9.3）

## 2018-11-21

- 皮肤切换面板中不保存时自动还原之前的皮肤(9.2)
- E讯开放删除讨论组中已有成员；exun发送回车发送优化；IE下缩小再还原部分文字不可见的bug（9.2，9.3）

## 2018-11-20

- 为 `Util.ajax` 方法返回的结果开放 `abort` 方法。（9.2,9.3）

## 2018-11-15

- E 讯中发消息时将换行转化为 `\n`  接收时再还原（9.3，9.2）
- E 讯中支持回车发送消息， 配置 `EmsgConfig.enterSend = true` 开启 （9.3，9.2）

- 添加隐藏 `jquery` 版本信息功能（9.2,9.3）

## 2018-11-14

- 重命名 `Util.onLeftRightRsize` 为 `Util.leftRight.onToggle`（9.2,9.3）

## 2018-11-08

- 新增不带标题的对话框插件（9.3,9.2）

## 2018-11-07

- 更新表格控件当初始化时，数据中 `total` 小于 0 时，自动设置 `showTotalCount` 属性为 `false`(9.2,9.3)

## 2018-11-05

- 更新验证失败后的提示效果，加上聚焦后 tooltip 提示错误信息的效果（9.2,9.3）

## 2018-10-29

- 左侧手风琴导航新增加载完成后的回调 `onLoad`（9.2,9.3）

- 调整分页控件按钮点击后不自动禁用一秒钟的效果（9.2,9.3）

## 2018-10-26

- `oauploader` 控件添加涉密相关功能（9.2,9.2）

- 调整 `webuploader` 控件涉密功能问题（9.2,9.3）

## 2018-10-25

- 将 `epoint.renderCell` 方法拼接的 `a` 标签改为 `i` 标签（9.2,9.3）

- 左右布局新增 `Util.onLeftRightResize` 事件（9.2,9.3）

- 解决 `epoint.openDialog` 方法多个调用传递同一个 `settings` 参数导致回调混乱问题（9.2,9.3）

- `Webuploader` 控件添加涉密相关功能（9.2,9.3）

## 2018-10-19

- 解决 `ewebeditor` 控件上传附件无法识别类型问题（9.2,9.3）

## 2018-10-10

- 手风琴布局新增点击导航项自动展开对应手风琴项功能（9.2,9.3）

## 2018-09-14

- 解决 `VerifyCode` 控件提交时没有 `uuid` 问题

## 2018-09-12

- 解决 `WebUploader` 控件分片上传无法删除上传成功附件问题

## 2018-09-11

- `epoint.showTips` 方法默认位置改为距离顶部 30% 处

## 2018-09-07

- grace 主题获取消息数目轮询改为从后端缓存中取

## 2018-09-05

- 解决自定义控件不解析问题

## 2018-09-04

- 解决上传控件秒传功能的bug

- 解决在主界面调用 `epoint.refresh` 方法会重新解析控件的问题

- 优化页面 loading 效果

## 2018-08-28

- 新增自动解析动态表单的功能

## 2018-08-22

- 解决 grace 主题左侧菜单 IE 下展开不显示问题

- 添加电子交易新手风琴样式

- 同步9.2.9开发版功能：

  - 自定义组件基类加载css方法优化，避免页面多实例时资源重复加载。（9.2,9.3）

  - 二维周视图日历新增隐藏周末的配置 `hideWeekends` (9.2,9.3)

  - 新增 `monment.js` 库 （9.2，9.3）****

  - `WebUploader` 控件默认附件列表在数据中没有附件大小时不显示(9.1,9.2,9.3)

  - `Util.getRightUrl` 方法优化， `data:` 开头的数据地址不再被处理，兼容部分图片返回base64的支持。（9.2，9.3）

  - 添加默认引入个性化js `frame.custom.js`（9.2）

  - metro 主题新增 E 讯入口功能（9.2）

  - 更新 miniui 解决分页控件 ie 下输入页码回车后点击页面会重新刷新数据问题（9.1,9.2,9.3）

  - 修改提交数据，所有控件 `text` 仍提交，并统一去除 html 标签（9.1,9.2,9.3）

  - cssboot 中版本号更新(9.2)

  - imac 主题新增 E 讯入口功能（9.2）

  - 修复logo路径问题（9.2，9.3）

## 2018-08-03

- 修改表单验证失败后的提示信息，改为第一个验证不通过控件的错误信息（9.1,9.2,9.3）

## 2018-08-02

- 更新页面 loading 效果（9.2,9.3）

## 2018-08-01

- 将 `websocket` 创建代码重主界面中剥离（9.2,9.3）

## 2018-07-30

- `Util.loadCss` 方法中的 `@import` 模式仅在IE下生效。（9.2，9.3）

## 2018-07-27

- 解决 `AutoComplete` 控件无法加载下拉选项的问题（9.1,9.2,9.3）

## 2018-07-25

- websocket 的建立从 E 讯中剥离，消息提醒改为可用 websocket 推送的形式更新（9.2）

- 解决 E 讯群组选人面板关闭不掉问题（9.1,9.2,9.3）

## 2018-07-17

- 解决 `Tree` 控件提交数据时没有将 `text` 字段带回去的问题（9.1,9.2,9.3）

## 2018-07-16

- 修改 `epoint.dealRestfulUrl` 方法，不再处理全路径的url (9.2,9.3)

## 2018-07-12

- grace主题重写完成

## 2018-07-06

- 解决新版个人信息页面在IE下点击控件进入编辑模式后未能正确获取焦点的问题（9.2.9）
  // cause IE下直接点击鼠标进入编辑模式后（实际上并未进入，需要再次点击才能正确聚焦）
  // 为解决此问题，在 IE下加入为其设置焦点的操作
- 高级搜索生成的搜索框中去除换肤（9.2.9）

## 2018-07-05

- 修复主题切换组件中 当前使用和系统配置的主题不一致情况下，默认加载皮肤不对的问题，并加入非当前主题下皮肤切换无法看到实时效果的提示
- 修复 `Util._ajaxErr` 后端无返回数据情况下报错的问题。（9.1,9.2,9.3）
- 修复主题切换在IE8\9下选中的皮肤标记丢失的问题
- 修复主题切换在ie89下主题大图预览触发位置不正确的问题
- 调整主题切换大图放大出现的中心点

## 2018-06-29

- `SrcBoot` 中新增 `develop` 配置项，用于区分框架开发、项目开发、生产环境三个环境（9.1,9.2,9.3）

## 2018-06-28

- `TabsNav.addTab` 方法新增 `afterTabInit` 方法回调

## 2018-06-22

- `Webuploader` 控件新增文件名字长度限制（9.1,9.2,9.3）

- `TreeGrid` 控件解决提交时没有分页信息问题（9.1,9.2,9.3）

## 2018-05-25

- ueditor 调整 `toolbar` 区域的按钮（9.2,9.3）

## 2018-05-22

- oauploader 更新 （9.2，9.3）
  - 调用预览时，除 `furl` 之外，再多拼接一个参数，名称为 `fname` ，值为 `文件guid + 文件扩展名`
  - 新增 `fileItemWidth` 配置，值为一个字符串，用以控制文件列表中 文件dom元素的宽度。

- 新增底部 `toolbar` 功能（9.2）

## 2018-05-15

- 新增分页控件改名为 `Pagination`（9.1,9.2,9.3）

- 添加按钮控件避免重复点击功能（9.1,9.2,9.3）

- 优化 `miniui` 开放属性标签配置的方法（9.1,9.2,9.3）

- 调整 `mini.showTips` 的配色（9.1,9.2,9.3）

## 2018-05-11

- 更新 miniui 源码，并新增一个分页控件（9.1,9.2,9.3）

- 解决 `Util.loadJs` 方法同时多次加载同一个 js 的问题（9.1,9.2,9.3）

## 2018-05-09

- 解决高级搜索生成标签时会执行 html 的 bug （9.2,9.3）

- 新增验证失败后 alert 提示效果（9.1,9.2,9.3）

- initPage 请求自动带上当前页面地址（9.1,9.2,9.3）

- 解决去除 `commondto` 提交数据中的 `text` 字段后，`TabsTreeSelect` 控件取值不对问题（9.1,9.2,9.3）
- grace 主题迭代优化，新增门户、顶级菜单排序、常用功能修改（9.2开发版）

## 2018-04-26

- grace的tab新增关闭回调配置 `closeCallback`（9.2）

## 2018-04-23

- 修复高级搜索搜索完成后，表格高度不对的问题。（9.2,9.3）

## 2018-04-20

- 修改桌面元件配置为12列，以便每行放置支持2、3、4、6、8个元件，此更新不会的现有的造成影响。（9.2，9.3）

## 2018-04-17

- 新增 `toolbar` 区域上下位置配置功能（9.1,9.2,9.3）

- 新增列表页面表格 `pageSize` 自适应功能可通过系统参数配置开启关闭的功能（9.1,9.2,9.3）

- 去除 `commondto` 提交数据中的 `text` 字段（9.1,9.2,9.3）

## 2018-04-12

- grace 中新增顶级菜单没有url时自动从子菜单中查找第一个进行打开（9.2，9.3）

- 修复 `Util.ajax` 方法无论什么dataType都会进行parse的问题。(9.1，9.2，9.3)

## 2018-03-23

- E 讯开放附件大小和消息字数限制配置（9.1,9.2,9.3）

## 2018-03-21

- 修复表格内存在编辑框在IE下滚动后首次点击出现位置不正确的问题。（9.1,9.2,9.3）

- 修复oa-uploader在上传文件大小恰好为接近1M但小于1M时，样式错乱的问题。（9.1,9.2,9.3）

- grace主题新增在线人员功能（9.2）

- 解决上传控件分片后状态请求中 extraId 的数据没有带上问题（9.1,9.2,9.3）

## 2018-03-19

- E 讯聊天新增附件接收提醒效果（9.1,9.2,9.3）

## 2018-03-16

- 开放主界面中的刷新消息数目接口（9.1,9.2,9.3）

- 简化统一社会信用代码的格式检测（9.1,9.2,9.3）

## 2018-03-08

- 修复IE下使用中文输入法时，contentPage布局中回车时先触发搜索的问题（9.1,9.2,9.3）

## 2018-03-07

- 更改 gulp 配置，代码压缩需要兼容IE8，并重新生成（9.1,9.2,9.3）

## 2018-03-01

- 更新 miniui 源码（9.1,9.2,9.3）

## 2018-02-28

- 解决 `DataGrid` 控件新属性无法使用问题（9.1,9.2,9.3）

## 2018-02-27

- 解决 `LargeFileUploader` 控件上传后下载地址不对的问题（9.1,9.2,9.3）

- eXun 窗口弹出位置最小为左上角，不能看不见。（9.1，9.2，9.3）

## 2018-02-26

- 新增自定义控件国际化方案（9.1,9.2,9.3）

- 更新 jquery、jquery.ui、mustache 版本（9.1,9.2,9.3）

## 2018-02-12

- 解决请求出现业务错误后弹出提示框被 loading 效果遮住问题（9.1,9.2,9.3）

## 2018-02-11

- 修改ajax请求返回不同状态码的处理（9.2）

## 2018-02-09

- 解决 ie 下页面中存在 object 时会遮住主界面中右侧消息侧滑 div 的问题（9.1,9.2,9.3）

## 2018-02-07

- 更新 miniui 源码（9.1,9.2,9.3）

- 快捷登录新增信息提示效果（9.1,9.2,9.3）

## 2018-02-06

- 解决条件区域第一行表单项为多行 checkBoxList 控件时，下面行被遮住问题（9.1,9.2,9.3）

## 2018-02-02

- WebUploader 控件在发生上传重复文件错误时加上提醒（9.1,9.2,9.3）

## 2018-02-01

- oauploader 控件新增附件排序功能（9.1,9.2,9.3）

- 解决 checkbox 控件初始化时值不对问题（9.1,9.2,9.3）

## 2018-01-26

- 手风琴布局新增导航功能（9.2,9.3）

- 解决E讯聊天窗口会被 dialog 遮住的问题（9.1,9.2,9.3）

- 新增E讯配置项 `onHistoryBtnClick`（9.1,9.2,9.3）

## 2018-01-22

- 修复高级搜索布局中没有toolbar时报错的问题。（9.2,9.3）

## 2018-01-19

- 修复mini-checkall中相等的判断（9.2,9.3）

## 2018-01-17

- 解决 metro 主题快捷菜单点击后打开页面地址不对问题（9.2,9.3）

## 2018-01-12

- 为表格的checkall列新增更新后的支持（9.2，9.3）

## 2018-01-10

- DataImport 控件新增 `extraId` 属性，用来指定提交数据时带上的额外控件（9.2）

## 2018-01-05

- setData 方法中关于value同时判断null和undefined (9.1，9.2，9.3)

## 2018-01-02

- DataExport 控件导出列数据中带上 `data-options`（9.1,9.2,9.3）

## 2017-12-29

- 更新 miniui 源码（9.1,9.2,9.3）

- 解决 WebUploader 控件可以上传后缀为中文的问题（9.1,9.2,9.3）

## 2017-12-28

- 修复 DataExport 控件从第一页开始导出时开始页面不对的问题（9.1,9.2,9.3）

- 优化 DataExport 控件，在关联表格不显示分页时隐藏与分页相关选项（9.1,9.2,9.3）

- 修复 TabsTreeSelect 控件优化后的问题(9.1,9.2,9.3)

## 2017-12-21

- 修复电话号码校验中 1|31234123 匹配成功的问题 并支持 16 和 19 号码段（9.1,9.2,9.3）

- 上传控件中新增 getUploaderPromise 方法（9.1,9.2,9.3）

- 修复miniui的zh语言文件中将导出控件页码写错的问题（9.1,9.2,9.3）

## 2107-12-19

- 修改安全模块拦截后的提示处理位置（9.1,9.2,9.3）

## 2017-12-18

- 优化 TabsTreeSelect 控件设置大量值时的性能（9.1,9.2,9.3）

- 修改安全模块拦截错误信息的处理（9.1,9.2,9.3）

## 2017-12-15

- 手风琴布局中新增 `expandItem` 和 `collapseItem` 两个API 用于手风琴项目的展开和收起。（9.1,9.2,9.3）

## 2017-12-13

- 解决 `TabsTreeSelect` 控件在删除不在当前激活 tab 树中节点报错的问题（9.1,9.2,9.3）

## 2017-12-11

- 调整 `epoint.alert` 方法，默认以 showTips 的方式展示（9.2,9.3）

- 新增 `epoint_deal_webeditor` 事件，用于外部处理编辑器的内容（9.1,9.2,9.3）

## 2017-12-08

- 新增 DataImport 导入控件。（9.2）

## 2017-12-04

- 修复导出控件不指定datagrid时打开面板报错的问题。（9.1,9.2,9.3）

## 2017-11-28

- 解决遗漏问题：表格的 pageSize 无法以客户端设置的值为准（9.2）

## 2017-11-27

- 调整浏览器升级提示的层级，避免被页面其他元素遮住（9.1,9.2,9.3）

## 2017-11-24

- 解决 PagerTree 控件刷新数据后不返回到第一页的问题（9.1,9.2,9.3）

## 2017-11-21

- 更新 miniui 源码版本（9.1,9.2,9.3）

## 2017-11-16

- 将outputtext生成的标签由div改为span。（9.1,9.2,9.3）

## 2017-11-15

- 加入周视图二维日历。(9.2，9.3)

## 2017-11-14

- 加入组件机制和日历控件。（9.3，9.2）

## 2017-11-13

- 解决后台返回空值时某些控件报错的问题（9.1,9.2,9.3）

- 解决 `Util.form.hideField` 方法隐藏字段后仍会触发控件验证的问题（9.1,9.2,9.3）

- uc-oauploader中编辑和预览的扩展名统一转化为小写，防止匹配失败的问题。（9.1,9.2,9.3）

## 2017-11-07

- 修复 ewebeditor 控件高度变化后对应容器高度不变的问题（9.1,9.2,9.3）

## 2017-11-06

- TabsTreeSelect 右侧头部新增已选人数。（9.1,9.2,9.3）

- grace 主题中 TabsNav 新增 `getActiveIframe` 方法（9.2,9.3）

## 2017-11-02

- 优化 Tree 控件，全路径改为前端计算（9.1,9.2,9.3）

- 修复epoint.execute回调中再次epoint.execute时不能显示遮罩，调用showLoading也无效的问题。（9.1，9.2，9.3）

## 2017-10-30

- 强化文件上传控件初始化失败后的提示（9.1,9.2,9.3）

## 框架版本9.2.8(2017/10/19)

## 2017-10-13

- 新增 `Util.getThemeName` 和 `Util.getSkinName` 方法。（9.2,9.3）

## 2017-10-12

- 9.2中imac和metro中默认应用里的消息提醒加载url需要后端指定。（9.2）

- 修改ueditor配置文件，开放lang参数。（9.2，9.3）

## 2017-10-10

- 解决 LargeFileuploader 控件 `setLimitType` 方法在参数为空字符串时选择不了文件的问题（9.1,9.2,9.3）

- 优化 epoint.renderCell 方法，将 `a` 标签绑定点击事件改为了 'onclick'（9.1,9.2,9.3）

## 2017-10-09

- 优化框架 ajax 处理，把状态码出错的处理提取出来（9.1,9.2,9.3)

## 2017-09-30

- 更新 miniui 源码到最新版 v3.8.1（9.1,9.2,9.3）

## 2017-09-29

- 兼容 `Util.loadPageModule` 方法不传 js 的情况（9.1,9.2,9.3）

- 高级搜索中checkboxlit移除一个值的优化处理。（9.2,9.3）

## 2017-09-28

- 修复高级搜索布局中CheckBookList生成标签移除时，生成新值时为移除开头的逗号和中间连续逗号的问题。(9.2,9.3)

- 修复高级搜索布局中将生成的textbox换为buttonedit后，值和关联的控件未关联的问题。（9.2,9.3）

## 2017-09-27

- 修复output方法中的错误。（9.2）

- 移除 commondto 中设置系统参数值的代码（9.2） 

- 高级搜索布局中生成的快捷搜索框改用buttonedit，并调整回车搜索后和展开后搜索一致。（9.2,9.3）

## 2017-09-25

- 新增 DES 加密解密类库（9.1,9.2,9.3）

- 新增 `Util.getFrameSysParam` 方法，用于获取后台返回的系统参数（9.2,9.3）

## 2017-09-22

- 解决 E 讯创建讨论组弹窗搜索后关闭再打开任保持上次搜索结果的问题（9.1,9.2,9.3）

- 重构控制静态资源路径的方法（9.1,9.2,9.3)

## 2017-09-20

- 解决上传控件设置 action 时不能省略页面 action 的问题。（9.2,9.3）

## 2017-09-15

- 修复自定义事件中`off`的bug。（9.2,9.3）

## 2017-09-14

- 解决页面在嵌入第三方系统后用 `epoint.openTopDialog` 方法报错的问题（9.1,9.2,9.3）

## 2017-09-13

- 修改了新的桌面中滚动条出现的元素。（9.2,9.3）

- 修复了上传控件的clearFile方法，使得其在默认UI下能够删除用户刚刚上传的文件。（9.1,9.2,9.3）

## 2017-09-12

- 修复 DataGrid 在 `holdSelectedStatus` 情况下多选无效的问题（9.1,9.2,9.3）

## 2017-09-07

- DatePicker 控件新增 `defaultTime` 属性，用于指定默认时间值（9.1,9.2,9.3）

- oauploader 控件优化完善。 （9.1,9.2,9.3）

## 2017-09-06

- webuploader 中补充 `setPickerText` 方法。（9.1，9.2，9.3）

- oauploader 中完善  `setShowAsFileList` 方法。（9.1，9.2，9.3）

## 2017-09-04

- 补充ueditor相关资源（9.2）

## 2017-09-01

- 修改上传控件 `removeFile` 方法，新增参数 `clearServer`，以兼容之前不会删除服务端附件的使用方式（9.1,9.2,9.3）

- grace主题中消息获取应在用户信息或界面信息之后再开始 (9.2,9.3)

## 2017-08-31

- 上传控件setData中不一定能调用内部控件的reset方法。（9.1，9.2，9.3）

- 导出控件优化，新增导出全部页码，导出当前页，导出指定的页码。（9.1，9.2，9.3）

## 2017-08-30

- 修正上传控件的setData方法，重置内部的上传控件，将上传文件队列清空，避免setdata后 一个文件既是服务端返回文件，又在上传控件的文件中 (9.1,9.2,9.3)

## 2017-08-29

- 修复DataGrid在holdSelectedStatus时通过beforeselect事件阻止选中记录无效的问题。（9.1,9.2,9.3）

- 将TabsTreeSelect控件的getSelectedNodes方法返回的节点顺序改为排序后的。（9.1,9.2,9.3）

## 2017-08-25

- 修复DataExport控件collapseText属性设置后不起作用的问题（9.1,9.2,9.3）

## 2017-08-24

- 更新安全模块相关处理方式：(9.1,9.2,9.3)

  1. csrfcookie验证名称修改为`EPTOKEN`

  2. 单引号统一替换为`_EpSingleQuotes_`

## 2017-08-23

- 统一 `page_load` 和 `page_Load` 为 `page_load`。（9.2，9.3）

- 修复 uc-control 中一个页面中使用多个用户控件时，样式文件加载多次的问题。（9.1，9.2，9.3）

- 优化完善 `uc-oauploader`  （9.1，9.2，9.3）

- 修复grace皮肤中webuploader 中按钮高度不对的问题。 （9.2，9.3）

- 修改miniui皮肤中按钮的 `transition` 为颜色变化时触发，位置变化不应该触发。（9.1，9.2，9.3）

- 修复topTabNav 使得其支持菜单数目较多时左右滚动。（9.1，9.2，9.3）

## 框架版本9.2.7(2017/8/21)

## 2017-08-16

- 给TreeSelect控件新增控制节点可被选择但节点值不会进最终value的功能（9.2,9.3）

## 2017-08-11

- 修复封装的ajax方法在返回数据不符合controls、custrom、status格式的情况下，参数配置中的success回调不触发的问题。（9.2,9.3）

- 修复miniui表格中的编辑器在IE下首次点击弹出位置不正确的问题。（9.1，9.2，9.3） 

## 2017-08-10

- webuploader 中clearFile 方法中新增对服务端返回文件的处理。（9.1,9.2,9.3）

- webuploader 源码中removeFile方法按照官网最新版进行修复。（9.1，9.2，9.3）

## 2017-08-09

- 修复老版我的桌面元件仅有一个时，会自动居中的问题（9.1，9.2）

## 2017-08-08

- **epoint** 下的 `alert` `alertAndClose` 和 `alertAndRefresh` 方法中加入一个参数，用以控制消息框图标。（9.1,9.2,9.3）

## 2017-08-07

- 修复了文件上传控件上传按钮样式与其他按钮样式不一致问题（9.1,9.2,9.3）

## 2017-08-05

- 修复了 grace 主题中兼职切换无效的问题。（9.2,9.3）

## 2017-08-04

- 在主界面中自动引入系统或浏览器升级提醒的js，用以提醒用户升级系统或浏览器。（9.1，9.2，9.3）

## 2017-08-02

- 修复7.28更新后 `Util.ajax` 中存在url跳转时的错误问题。 （9.2，9.3）

## 2017-08-01

- 更新miniui源码到最新v3.8版本（9.1,9.2,9.3）
- 解决WebUploader控件在页面上存在多个时上传失败的问题（9.1,9.2,9.3）

## 2017-07-28

- 修复grace皮肤中导入控件颜色不正确的问题。（9.2,9.3）

- 优化Util.ajax方法，使得其也能够支持session超时后触发快捷登录，并加入了主界面中无界面标识时的错误提醒，并且统一在返回数据中code大于300时定义为请求失败，直接打断ajax的链式调用。（9.2,9.3）

- 开放DataExport控件的 `expandText` 和 `collapseText` 属性（9.2,9.3）

## 2017-07-21

- 工具方法中 zindex 改造 和miniui使用同一个来进行管理。（9.2，,.3）
- 工具方法中新增自定义事件。（9.2,9.3）
- 工具方法中 ajax 方法改造，如果为主界面，则自动加上参数 {themeId:themeId}. （9.2，,.3）
- 加入XP系统升级提醒，IE8ie9升级提醒。(9.2,9.3)

## 2017-07-14

- 修复TreeGrid控件在`resultAsTree="false"`下树形结构出不来的问题（9.1,9.2,9.3）

- WebUploader控件新增fileremove事件，在默认UI下点击删除按钮时会触发（9.1,9.2,9.3）

## 2017-07-13

- TabsNav 相关api操作参数应为id而非tab-id。 （9.2grace）

## 2017-07-12

- 修复我的桌面中 没有任何元件时报错的问题。 （9.2,9.3）

## 2017-07-11
- 解决E讯上传附件功能在IE8,9下无效的问题（9.1,9.2,9.3）

## 2017-07-07
- 解决WebUploader控件在后端返回错误信息时仍显示上传成功的问题（9.1,9.2,9.3）

## 2017-07-03
- 解决导出控件导出TreeGrid数据报错的问题（9.1,9.2,9.3）
- 新增E讯连接出错后的信息提示配置EmsgConfig.closeMsg和EmsgConfig.errorMsg（9.1,9.2,9.3）

## 2017-06-28
- 将快捷登录quicklyLogin重新命名为quickLogin。 （9.2,9.3）
- 页面上新增isInitPageFinished参数，用于表示页面数据是否初始化完成（9.2,9.3）

## 2017-06-26
- epDialog和epcontextmenu优化。（9.2,9.3）

## 2017-06-23
- oauploader中在上传开始时 隐藏编辑和删除按钮，上传完成后再显示出来。（9.2,9.3）

## 框架版本9.2.6(2017/6/22)

## 2017-06-20
- 新增epoint_preload事件，在通过commondto设置页面控件值之前会触发（9.2,9.3）

## 2017-06-19
- 调整fui目录结构（9.2,9.3）
  1. fui/js/lib/gridcheckall => fui/js/miniui/plugin/gridcheckall
  2. fui/js/lib/ntkoLFUploader/'office相关资源' => fui/js/lib/ntkoOffice/'office相关资源'
  3. fui/js/security.js => fui/js/lib/security.js

## 2017-06-16
- oauploader中开放`setEditurl`和`setPreviewUrl`。（9.2,9.3）

## 2017-06-15
- 添加session超时 code为499的快捷登录资源（9.2）
- 优化能否清空控件值时能否使用setText('') (9.2 , 9.3)
- 高级搜索布局中，存在工具栏关联输入框时，重置时值未清空的问题。（9.2 9.3）

## 2017-06-14
- 修复DataGrid控件在不分页情况下没有返回所有数据的问题（9.1,9.2,9.3）

## 2017-06-09
- 修复高级搜索中单个的checkbox未选中时，也会渲染成标签的问题。（9.2,9.3）
- 修复oauploader中移除原本服务端返回文件后，上传数目限制不对的问题。（9.2,9.3）
- 移除dream和classic主题（9.2,9.3）
- 新增grace主题（9.2,9.3）

## 2017-06-06
- 解决高级搜索中清除条件时checkbox的text也被清除的问题（9.2,9.3）

## 2017-06-05
- 去掉了工具栏中tooltips形式帮助提示中的动画。（9.2,9.3）
- 解决WebUploader默认UI下删除附件后已上传附件数量未更新的问题。（9.1,9.2,9.3）

## 2017-06-02
- epdialog 中新增两个配置 `dragContainer` 和 `resizeContainer` 用于指定 拖动和resize时的限定容器。 （9.2，9.3）

## 2017-06-01
- 修复dream主题顶级菜单有url时，其余项目的子菜单未收起的问题。（9.2,9.3）

## 2017-05-27
- 解决cmdParams中可能存在的javascript关键字时被后端安全模块拦截的问题（9.2,9.3）

## 2017-05-25
- dream主题优化（9.2，9.3）
- 调整日期选择控件双休日的文字颜色（9.1,9.2,9.3）

## 2017-05-24
- 给上传控件新增onload事件，该事件会在setData完成时触发（9.2,9.3）

## 2017-05-23
- 修复了`epoint.encodeUtf`方法中的错误（9.1,9.2,9.3）
- 将手风琴树导航中的树改为了miniui的树（9.2,9.3）
- 新增`epoint.encode` 自定义编码方法。（9.1,9.2,9.3）

## 2017-05-22
- 文件上传控件提供个性化错误提示的功能 (9.2 9.3)
- 高级搜索布局中，搜索条件多出一个隐藏域的值。（9.2，9.3）

## 2017-05-19
- 解决Output和OutputText控件值为null时显示不正确的问题 (9.1 9.2 9.3)

## 2017-05-18
- 文件上传控件默认UI中的附件列表加上了上传日期 (9.1 9.2 9.3)

## 2017-05-17
- 解决可编辑表格编辑控件不随content区域滚动而滚动的问题 (9.1 9.2 9.3)

## 2017-05-16
- 修复DataExport在IE8中不兼容的问题 (9.1 9.2 9.3)

## 2017-05-12
- 手风琴布局中 修改宽度后 在较窄屏幕下两侧没有间隙. (9.2 9.3)
- webeditor控件在值中包含javascript 替换为& 误将& 写为 $. ( 9.3)
- 我的桌面中基础元件的尺寸不再使用屏幕尺寸作为阈值，直接等比换算。(9.2 9.3)

## 2017-05-11
- 我的桌面中元件基本尺寸根据屏幕大小设置。（9.2,9.3）
- 修复E讯模块调整好的bug（9.2,9.3）

## 2017-05-10
- 修复miniui表格标题在IE8下的兼容性问题（9.1,9.2,9.3）
- 解决webeditor控件在值中包含javascript关键字时被后端安全模块拦截的问题（9.2,9.3）

## 2017-05-09
- 修复tabstreeselect控件设置右侧头部标题后样式错误。（9.1,9.2,9.3）
- 将表单布局的最小宽度改为1200px，手风琴布局的最小宽度改为1300px（9.2,9.3）
- 解决e讯加载更多信息请求被CSRF拦截的问题（9.2,9.3）

## 2017-05-08
- 将表格的allowUnselect属性的值改为通过全局变量mini_grid_allowUnselect配置（9.1,9.2,9.3）

## 2017-05-05
- classic 和dream使用新的数据接口（9.2 9.3）
- 上传控件中使用Util.ajax
- 将全局属性mini_grid_pageSize_formServer名字改为mini_attrValue_fromServer，用来控制所有属性是否需要从后台取默认值（9.2,9.3）
- 新增上传控件fileSizeLimit和limitType两属性可从后端取默认值的功能（9.2,9.3）
- 将treegrid控件的showPager属性定死为false，不可设置（9.2,9.3）

## 2017-05-04
- 高级搜索布局中，添加将checkboxlist已经选中的拆分成单个显示的。 （9.2 9.3）

## 2017-05-03
- dream主题右键刷新无效的问题（9.2 9.3）

## 2017-05-02
- 解决DatePicker控件选种其他月份时，修改时分秒会跳转页面的问题。（9.1,9.2,9.3）
- oauploader上传控件未触发`onfileremovesuccess`事件，排查后发现在`getAttrs`中未添加，进行了修改，并补充了完善了`getAttrs`。
- 框架中优化tabsNav刷新后仍显示错误页面的问题classic和dream。(9.2 9.3)
- oauploader上传控件删除文件后，前端文件列表数目未更新的问题.（9.2 9.3）

## 2017-04-28
- 高级搜索插入的输入框中的提示字符由关联控件的emptyText改为其前面的label字段（9.2,9.3）
- 高级搜索插入的输入框parse时限定范围，以提高解析效率。（9.2，9.3）
- 高级搜索中增加关闭时清空工具栏搜索按钮的值（9.2,9.3）
- 代码优化 移除不必要的eMsg声明（9.2 9.3）
- 上传控件移除文件时的请求改成Util.ajax（9.2 9.3）

## 2017-04-27
- 提示区域tooltip形式优化，添加动画（9.2,9.3）
- 用户注销时，应先关闭websocket连接。（9.1,9.2,9.3）
- 高级搜索非自动展开的形式下，fui-search上配置了primaryControl属性的，加入自动插入一个输入框，和搜索区域的某个控件相关联。（9.2，9.3）
- uc-oauploader 上传控件中移除文件时加入提醒（9.2,9.3）
- 解决验证码控件刷新请求不对的问题（9.2,9.3）
- 给DataExport控件新增exportAction属性，用来指定自定义的后台导出方法（9.2,9.3）

## 2017-04-26
- E讯模块化，并将发送邮件做成配置（9.2）
- 修复高级搜索布局中存在表格时，表格分页请求未带上搜索条件的问题。（9.2，9.3）

## 2017-04-25
- 将dream主题中消息数目的获取改为轮询方式

## 2017-04-24
- contentPage 提示区域增加tooltip形式，在帮助按钮上使用showtype="tooltip"开启。（9.2,9.3）

## 2017-04-20 
- uc-oauploader上传控件中直接使用openTopDialog（9.2 9.3）
- 高级搜索中变量名称优化（9.2 9.3）
- contentpage布局中搜索回调函数缓存（9.2 9.3）

## 2017-04-19
- 登录页面中为按钮添加类型，防止IE当做提交按钮（9.1,9.2,9.3）
- miniui控件textbox中添加颜色的控制（9.1,9.2,9.3）
- commondto提交数据中自动加上了控件format属性（9.2,9.3）

## 2017-04-18
- 手机号码验证规则新增对14号码段的支持（9.1,9.2,9.3）
- LargeFileUploader 中返回的下载地址中参数处理（9.2 9.3）
- uploader 和 uc-oauploader 下载地址中参数的处理(9.2,9.3)
- 系统登录页面用form包裹，并为表单输入控件添加name属性。(9.1,9.2,9.3)

## 2017-04-17
- 高级搜索布局中回调查询优化（9.2,9.3）
- DataGrid提交数据中给column新增了displayField字段（9.2,9.3）

## 2017-04-14
- miniui控件皮肤优化（9.2,9.3）
- 给DataExport控件新增csrf防御的处理

## 2017-04-13
- 修复buttonedit边框线颜色不同的问题（9.2,9.3）
- 修复了uc-uploader原本服务端文件未正确显示编辑按钮的问题(9.2,9.3)
- 将E讯的消息列表单独出来，作为一个单独模块使用

## 2017-04-12
- 修复了Util.browsers中isIE 8 9 10 同时成立的问题。(通用)
- 给TabsTreeSelect控件新增点击节点文字选中节点的效果（通用）
- 将在线消息中的消息列表单独出来，作为一个单独模块使用

## 2017-04-11
- 修复TabsTreeSelect控件在多选情况下节点text与value混乱的问题（通用）
- 使用订阅者模式对websocket的onMessage方法进行优化。（9.2,9.3）

## 2017-04-07
- 新增Util.condition的帮助方法，用于设置搜索按钮后的下拉按钮显隐（9.2,9.3）
- dream主题新增一套皮肤（9.2，9.3）
- 修改操作图标，新增细的remove和check图标（9.2,9.3）

## 2017-04-06
- 为miniui的CheckBoxList,RadioButtonList,ListBox控件扩展getText方法
- 将DataGrid的allowUnselect属性默认值改为true（通用）
- 新增服务端配置DataGrid的pageSize的功能（9.2,9.3）
- LargeFileUploader控件默认UI在删除时新增确认提示（9.2,9.3）

## 2017-04-05
- 新增高级搜索布局（9.2 9.3）
- E讯模块中 消息记录 参数名由 sessionId  改为exunsessionid 后端参数变更，前端无调整。（9.2 9.3）
- 高级搜索布局优化
- 左右布局中 增加内容区域边距（通用）

## 2017-04-01
- dream主题优化
  1. 移除最近关闭 并在固定项目和活动项目中加入滚动
  2. 移除关注和组织
  3. 移除E讯和消息提醒的搜索
  4. 移除个性签名

## 2017-03-30
- 添加对高级搜索高度计算的支持（9.2，9.3）

## 2017-03-29
- 新增自定义控件 uc-oauploader 内部直接使用封装好的mini-webuploader，重新实现了一套UI界面 目录位置fui/js/epoint/uc （通用）
- 调整了dream主题中几个元素不对齐的问题。

## 2017-03-28
- 新增表格刷新后当前页无数据时自动往前跳一页的效果。（通用）
- 修改dream主题侧边展开后遮罩为透明并调整Z轴（通用）

## 2017-03-23
- 新增统一的列表hover和selected样式。（通用）

## 2017-03-20
- 修复topWizard中的路径错误问题。（通用）

## 2017-03-16
- miniui中tooltips加入左右位置自适应支持。（通用）

## 2017-03-15
- 添加了请求对csrf防御的处理

## 2017-03-14
- 给手风琴布局新增了动态添加手风琴项的API方法（通用）
- 修改Tree控件的getText方法，把节点中可能包含的HTML标签清楚掉，只保留文本（通用）

## 2017-03-10
- DataExport控件新增导出选中行的功能（通用）
- 修复classic主题在ie8下二级菜单显示不全的问题（通用）
- 修复classic主题中导入按钮颜色不对的问题。（通用）

## 2017-03-08
- 修复dream中右侧组织点击树节点进行展开时的误将面板收起的bug。（通用）

## 2017-03-07
- 修改epoint，自动在openDialog时给url加上一个生成的Dialog的id，用以在Dialog页面中高效获取Dialog实例，解决IE8崩溃问题。（通用）

## 2017-03-06
- classic主题中toolbar和miniui样式调整，按照约定的规范。（通用）

## 2017-03-03
- 使用metrodiy覆盖metro
- 修复了miniui中TabsTreeSelect 清空后再选择时多一个空节点的问题。（通用）

## 2017-03-02
- 调整miniui控件样式后，同步对dream下的golden和violet皮肤进行了调整。（9.2,9.3）

## 2017-03-01
- dream主题中 顶部用户信息下拉框的显示事件由鼠标移入改为click。
- dream主题中 右侧消息滑入时添加遮罩。
- 优化响应过快时，添加又移除遮罩的卡顿感。（通用）

## 2017-02-24
- miniui更新和miniui控件样式优化

## 2017-02-21
- 因安全扫描问题，对编辑器以及cmdParams中的尖括号进行统一编码，替换为_EpLeftBracket_和_EpRightBracket_ （通用）

## 2017-02-17
- console对象下error和warn也换为空方法（原因F9问题中弹出多余的alert）。（通用）
- 左右布局样式调整
- dream主题可能页面整体侧移的bug修复，源于知识库问题[两套系统。其中一套系统中iframe嵌入另一个系统的页面，然后整个页面会发生侧移](http://oa2.epoint.com.cn/EpointKnowledge/Knowledge/Pages/Knowledge/Knowledge_Detail.aspx?RowGuid=587da7b8-f8c9-4302-8114-592d612bfda3&ProcessVersionInstanceGuid=eb8f96d4-2eb6-4030-b0f0-a11480c7f629)

## 2017-02-16
- 优化console问题，使之能弹出简单错误提示信息。
- 添加公共样式换肤sass。

## 2017-02-09
- miniui 部分样式优化。（通用）
- epoint.js中initpages方法中将参数params编码为字符串形式。
- epoint.refresh方法中在数据模拟时不再拼接action。（通用）

## 2017-02-08
- 为了防止代码中未移除的console在IE8\9下可能报错的问题，对没有console的情况在common.js中进行了处理（合并后位于frame中）。（通用）
- cssboot中SrcBoot下添加属性mock，默认为false，开启为true后不会对epoint.execute和epoint.initPage请求的url进行处理。（通用）

## 2017-02-07
- 将表单布局手机端的媒体查询条件改为设备大小。（通用）

## 2017-02-04
- miniui中webuploader中添加duplicate配置属性，用于配置上传文件是否不去重，设为true时可重复上传相同文件。（通用）

## 2017-01-24
- CommonDto中单引号替换为\"（通用）
- 我的桌面页面在特定情况下，实际显示位置和数据不一致问题进行了修复，修改位置为mydesktop.js。（通用）

## 2017-01-23
- 为miniui按钮添加语义化配色样式。（通用）

## 2017-01-17
- 修复dream主题的菜单搜索结果中有重复数据的问题（通用）

## 2017-01-16
- 开放epoint.openDialog中的allowResize属性（通用）

## 2017-01-13
- 修复了webuploader控件可能重复注册事件的bug（通用）

## 2017-01-12
- 新增了miniui控件客户端设值的功能（通用）

## 2017-01-11
- 优化了控件二次请求被安全模块拦截后的提示方式（通用）

## 2017-01-10
- 为框架中扩展的miniui.TabsTreeSelect控件getAttrs中添加"showFullPath"属性。（通用）
- output outputtext 不是可编辑控件，值无需传给后台，直接赋值（commonDto的getDate方法中）为空（通用）

## 2017-01-09
- 替换所有主题界面中的替换mini.isIE为Util.browsers.isIE，以保证主题界面和miniui解耦。（通用）

## 2017-01-06
- 同步修改imac、metro、metrodiy下是声音提醒，添加非IE支持。（9.1，.2，.3）

## 2017-1-5
- 修复chrome下打开部分Dialog会出现白线的问题（通用 涉及主题为dream、imac、metro）。
	方案为去掉html上的position：fixed。并阻止了click事件中标签的默认事件（防止在chrome下地址栏存在#时，关闭Dialog会使页面上浮）。

## 2017-1-3
- 解决了搜索树服务端搜索后获取节点文本中带有html标签的问题（通用）

## 2016-12-30
- 优化了common.js中左右结构的解析，避免了多次解析（通用）

## 2016-12-29
- 解决了dream自定义菜单中误加载其他菜单。（9.2，9.3）
- 解决了树控件在懒加载下子父联选不对的问题（通用）
- 解决了tabstreeselect控件在服务端搜索后选择父节点返回所有子节点的问题（通用）

## 2016-12-22
- 解决了dream主题中首次无新消息时，标题为undefined的问题。(通用)

## 2016-12-21
- 解决了dream主题中左侧菜单项过长显示...在ie9中显示不对的问题（通用）
