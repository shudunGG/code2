(function(x,c){var h=c("#acc-nav"),k=c("\x3e .acc-nav-list",h),m=c("#main-frame"),n=Mustache,p=c.trim(c("#nav-templ").html()),l,r={_cache:{},cacheNodeData:function(a){var b,c=a.rowkey;this._cache[c]={};for(b in a)"items"!==b&&(this._cache[c][b]=a[b])},getNodeData:function(a){return(a=this._cache[a])?a:null}},q=function(a,b){var g=[];c.each(a,function(a,f){var d={name:f.name,icon:f.icon,url:f.url,isLeaf:!(f.items&&f.items.length),expanded:f.expanded};d.rowkey=void 0==b?a+"":b+"-"+a;var e=d.rowkey.split("-").length;d.indent=1!==e?38+24*(e-2):!1;d.isTop=1===d.rowkey.split("-").length;f.active&&(l=d.rowkey);r.cacheNodeData(c.extend({},f,d));d.isLeaf?g.push(n.render(p,d)):g.push(n.render(p,c.extend(d,{subNav:q(f.items,d.rowkey)})))});return g.join("")},t=function(){Util.loadJs("fui/js/lib/jquery.nicescroll.min.js",function(){h.niceScroll({cursorcolor:"#666"})})},u=function(a){a&&a.length&&(a=q(a),c(Util.clearHtml(a)).appendTo(k.empty()),t())},v=function(){if(AccNav.defaultUrl)m[0].src=Util.getRightUrl(AccNav.defaultUrl);else{var a,b;l?b=k.find(".acc-nav-link").filter('[data-rowkey\x3d"'+l+'"]'):(a=k.children().eq(0),b=a.find(".acc-nav-link.not-top").eq(0),b.length?a.addClass("opened"):b=a.find(".acc-nav-link").eq(0));b.trigger("click")}},e=null,w=function(){h.on("click",".acc-nav-link",function(a){a.preventDefault();a=c(this);var b=a.data("url");a.data("rowkey");var g=a.parent(),h=!g.find("\x3e .acc-nav-list").length;h||(g.hasClass("opened")?g.removeClass("opened"):g.addClass("opened"),Util.redrawPseudoEl(a.find(".acc-nav-icon")[0]));h&&(e&&e.removeClass("active"),e&&Util.redrawPseudoEl(e.find(".acc-nav-icon")[0]),e=a,e.addClass("active"),Util.redrawPseudoEl(e.find(".acc-nav-icon")[0]),m[0].src=Util.getRightUrl(b))})};(function(){var a=c.extend({query:"init-accNav"},AccNav.params);Util.ajax({url:Util.getRightUrl(AccNav.loadUrl),dataType:"json",type:"POST",data:a}).done(u,w,v)})()})(this,jQuery);