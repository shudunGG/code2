<!DOCTYPE html>
<html>

	<head>
		<title>Code generation</title>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />

		<script src="../../../../frame/fui/js/cssboot.js"></script>
	</head>

	<body>
		<div class="page-loading"></div>

		<!-- toolbar area -->
		<div class="fui-toolbar">
			<div class="btn-group mr10">
				<a class="mini-button mr10" onclick="productCode">generated code</a>
				<!--Help button -->
				<a role="helper" class="mr10">precautions</a>

				<div class="mini-checkbox" style="width: 20px" bind="isDirect">
					whether the ascending
				</div>
			</div>

		</div>

		<!-- Help information area Hidden by default-->
		<div class="fui-notice hidden">
			<p>
				Generate add、edit、The detail、List page code, the code file to the default of deposit
			</p>
			<p>
				<em>c:\\epointmis\\generatedFilefolder</em>
			</p>
			<p>
				Package if you want to specify a file to a fixed location,Please set the file path。
			</p>
			<p>
				add,The detail,editThe page is shown as by default2column;If you have the layout of the special requirements,Please enter the page layout Settings。
			</p>
			<p>
				An absolute path(Such as<em>E:\\Generate\\</em>)On behalf of the generated byEThe plateGeneratefolder
			</p>
		</div>

		<div class="fui-content">
			<!-- The form layout -->
			<div class="fui-form" id="fui-form">
				<div role="form">
					<div role="row">
						<div role="control" label="app project"  starred="true">
							<input id="fieldtype" autoLoad="false" action="getSysProjectModel" showNullItem="true"
							textField="text" valueField="id" bind="sysProjectPath" onValueChanged="changeProject"
							class="mini-combobox" required="true"
							requiredErrorText="Application projectCan't be empty"/>
						</div>
					</div>
					<!-- 2column -->
					<div role="row">
						<div role="control" label="code path">
							<intput class="mini-textbox" bind="absolutePath" enabled="false"></intput><span class="text-danger mb5">(*Note: thisThe pathFramework for the deployment of the projectThe path)</span>
							<intput id="plus" class="mini-textbox mr10" style="width:100px" bind="relativepath" enabled="false"></intput>
							<intput id="projectname" class="mini-textbox mr10" style="width:200px" bind="projectname" enabled="false"></intput>
							<intput id="tablename" class="mini-textbox" style="width:300px" bind="tablename" enabled="false"></intput>
							<span class="text-danger">(*Note: thisThe pathFor the default fileThe pathMode:(pages+Application projectThe path+The name of the table); Files will be generated automatically to theThe pathUnder the)</span>
						</div>
					</div>
					<div role="row">
					<div role="control" label="Customize the path">
						<intput class="mini-checkbox" bind="isDiyUrl" id="isDiyUrl"
							trueValue="true" falseValue="false"
							onvaluechanged="onValueChanged" style="width:5%"></intput>
						<intput class="mini-textbox" bind="diyUrl" id="diyUrl"
							style="width:85%"></intput>
					</div>
				</div>
					<div role="row">
						<div role="control" label="columnnumber(2|4|6)">
							<intput class="mini-textbox" bind="columnNumber" style="width:50%"></intput>

						</div>
					</div>
				</div>

				<div id="tableid" bind="tableID" class="mini-hidden"></div>
			</div>
		</div>

		
 
 	<script type="text/javascript">var miniLocal='en_US.js';</script>
 	<script src="../../../../rest/resource/jsboot"></script>

		<!-- Configuration Variables -->
		<script>
		//Initialize the page
		var diyUrl=mini.get("diyUrl");
		var fieldtype=mini.get("fieldtype");
		var isDiyUrl=mini.get("isDiyUrl");
		epoint.initPage("tablecodeproductaction",null,function(){
			diyUrl.disable();
		});
		function onValueChanged(e){
			var checked=this.getChecked();
			if(checked==true){
				diyUrl.enable();
				fieldtype.disable();
			}else{
				fieldtype.enable();
				diyUrl.disable();
			}
		}
		function productCode(){
			if (epoint.validate()) {
				if(isDiyUrl.getChecked()&&diyUrl.getValue()==""){
					epoint.alert("Please fill in the path to the custom generated code.", '', null, 'warning');
					return;
				}
				epoint.execute('productFace','','true',msgCallBack)
			}
		}
			// Back off to remind
			function msgCallBack(data) {
				if(data.makesure){
					epoint.confirm(data.makesure,"确认是否继续",function(){
						epoint.execute('productFace','','false',msgCallBack);
					},null);
				}
				if (data.strScript) {
					eval(data.strScript);
				}
			}

			function changeProject() {
				epoint.execute("changeProject", '', callback);
			}

			function callback(data) {
				mini.get("projectname").setValue(data.msg);
			}
		</script>
	</body>

</html>
