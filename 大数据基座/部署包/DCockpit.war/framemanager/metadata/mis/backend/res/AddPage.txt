<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>{@title}</title>
     <!-- 请修改相对路径 -->
    <script src="{@outsideNum}frame/fui/js/cssboot.js"></script>
</head>

<body>
	<!-- 必须有，加载时的loading效果 -->
	<div class="page-loading"></div>
	<!-- toolbar区域 -->
	<div class="fui-toolbar">
        <div class="btn-group mr10">
            <a class="mini-button" id="addNew" onclick="saveAndNew">保存并新建</a>
            <a class="mini-button" id="addClose" onclick="saveAndClose">保存并关闭</a>
            <a class="mini-button" onclick="epoint.closeDialog">关闭</a>
        </div>
    </div>
    
    <!-- 内容区域 -->
    <div class="fui-content">
    	<div id="fui-form" class="fui-form" style="width:90%">
    		<div role="form">
    		{@tbConatainer}
    		</div>
    	</div>
    </div>
    
    <!-- 请修改相对路径 -->
    <script src="{@outsideNum}rest/resource/jsboot"></script>
    <script>
    	// 初始化页面
    	epoint.initPage('{@ActionName}');
    	
    	function saveAndNew() {
		    if(epoint.validate()){
		        epoint.execute('addNew','fui-form',newCallback);
		    }
   	 	}
   	 	
   	 	function saveAndClose() {
	        if(epoint.validate()){
	            epoint.execute('add','fui-form',closeCallback);
	        }
	    }
	    
	    // 新增操作的回调
	    function newCallback(data) {
	        if (data.msg) {
	            epoint.alert(data.msg, '', null, 'info');
	            // 清空表单
            	epoint.clear('fui-form');
	        }
	    }
	    
	    // 关闭操作的回调
	    function closeCallback(data) {
	        if (data.msg) {
	            epoint.alertAndClose(data.msg, '', null, null, 'info');
	        }
	    }
    </script>
</body>
</html>