<!DOCTYPE html>
<html>

<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>重新同步数据</title>
<script src="../../../frame/fui/js/cssboot.js"></script>

</head>

<body>
	<!-- 必须有，加载时的loading效果 -->
	<div class="page-loading"></div>
	<!-- toolbar区域 -->
		<div class="fui-toolbar">
			<div class="btn-group mr10">
				<a id="changeTohistory" class="mini-button"
					onclick="if(mini.get('datagrid').getSelecteds().length==0){epoint.alert('请选择要重新的记录!');} else {epoint.confirm('确认同步删除？','',changeTohistory);}">同步选中</a>
			</div>
		</div>
	<!-- 内容区域 -->
		<div class="fui-content">
			<div id="datagrid" name="datagrid" class="mini-datagrid"
				idField="processVersionInstanceGuid" multiSelect="true"
				style="width: 100%; height: 100%;" allowResize="true"
				showPager="true" action="getDataGridData" allowCellSelect="true"
				allowCellValid="true" allowCellEdit="true" editNextOnEnterKey="true"
				editNextRowCell="true">
				<div property="columns">
					<div type="checkcolumn" name="checkcolumn" width="50"></div>
					<div type="indexcolumn" width="50" headerAlign="center">序</div>
					<div field="processVersionInstanceName" width="100%" headerAlign="center">过程实例名</div>
					<div field="status" width="100%" headerAlign="center">状态</div>
				</div>
			</div>
		</div>

	<script src="../../../rest/resource/jsboot"></script>
	<script>
		//<![CDATA[
		//初始化请求
		epoint.initPage('workflowpvichangetagaction');
		
		function changeTohistory() {
			epoint.execute('changeTohistory', 'datagrid', msgCallBack);
		}
		
		function msgCallBack(data) {
			var msg = data.msg;
			if (msg) {
				if (data.success) {
					epoint.alert(msg, '', function() {
						epoint.refresh('datagrid', '', true);
					},'info');
				} else {
					epoint.alert(msg, '', '', 'warning');
				}
			}
		}
		
		//]]>
	</script>
</body>

</html>