<!DOCTYPE html>
<html lang="zh-CN">

	<head>
		<title>Tenant management list</title>
		<meta charset="UTF-8" />
		<meta http-equiv="content-type" content="text/html" />
		<script src="../../../../frame/fui/js/cssboot.js"></script>
	</head>

	<body>
		<div class="page-loading"></div>

		<!-- toolbar area -->
		<div class="fui-toolbar">
			<div class="btn-group mr10">
				<a class="mini-button" iconCls="icon-addcircle" onclick="openAdd();" id="btnAddRecord"> add a record </a><a id="btnDel" class="mini-button" iconCls="icon-minuscircle"
				onclick="if(mini.get('datagrid').getSelecteds().length==0){epoint.alert('Please choose to delete records!', '', null, 'warning');} else {epoint.confirm('Confirm to delete?','',deleteSelect);}"> delete selected </a>
			</div>
		</div>

		<!-- conditions area -->
		<div class="fui-condition">
			<div class="fui-form" id="fui-form">
				<div id="cform" role="form">
					<div role="row">
						<div role="control" label="tenant name">
							<input id="search_Tenantname" class="mini-textbox"
							bind="frametenantlistaction.dataBean.tenantname"
							onkeypress="searchData();" />
						</div>
						<div role="control" label="tenant sign the name">
							<input id="search_Tenantsysname" class="mini-textbox"
							bind="frametenantlistaction.dataBean.tenantsysname"
							onkeypress="searchData();" />
						</div>
					</div>
				</div>
			</div>
			<a role="searcher" callback="searchData"></a>
		</div>

		<!-- content area -->
		<div id="fuiContent" class="fui-content">
			<div id="datagrid" class="mini-datagrid" idField="rowguid"
			action="getDataGridData" sortOrder="desc" showPager="true"
			style="height: 100%;" allowResize="true" multiSelect="true"
			allowCellEdit="true" allowCellSelect="true" editNextOnEnterKey="true"
			editNextRowCell="true">
				<div property="columns">
					<div type="checkcolumn" width="50"></div>
					<div type="indexcolumn" width="50" headerAlign="center">
						order
					</div>
					<div field="tenantname" headerAlign="center" width="250" >
						tenant name
					</div>
					<div field="tenantsysname" headerAlign="center" width="100%" >
						tenant sign the name
					</div>
					<div field="ordernumber" headerAlign="center" align="right" width="150" >
						rowordervalue
					</div>
					<div width="80" align="center" headerAlign="center"
					renderer="onEditRenderer">
						edit
					</div>
					edit
				</div>
			</div>
		</div>

		
 
 	<script type="text/javascript">var miniLocal='en_US.js';</script>
 	<script src="../../../../rest/resource/jsboot"></script>
		<script>
			// Initialize the page
			epoint.initPage('frametenantlistaction');

			// Draw Edit Columns button
			var onEditRenderer = function(e) {
				return epoint.renderCell(e, "action-icon icon-edit", "openEdit");
			};

			// The new popup Windows
			function openAdd() {
				epoint.openDialog('Add a record', "framemanager/metadata/saas/tenant/frametenantadd", function(){
					epoint.refresh(['datagrid', 'fui-form'],'',true);
				}, {
					'width' : 600,
					'height' : 300
				});
			}

			// The pop-upeditwindow
			function openEdit(id) {
				epoint.openDialog('editrecord', "framemanager/metadata/saas/tenant/frametenantedit?guid=" + id, function(){
					epoint.refresh(['datagrid', 'fui-form'],'',true);
				}, {
					'width' : 600,
					'height' : 300
				});
			}

			function callback(data) {
				if (data.msg) {
					epoint.alert(data.msg, '', function(){
						epoint.refresh(['datagrid', 'fui-form'],'',true);
					}, 'info');
				}
			}

			// delete data
			function deleteSelect() {
				epoint.execute("deleteSelect", '', callback);
			}

			// Search for tables
			function searchData() {
				epoint.refresh(['datagrid', 'fui-form']);
			}
		</script>
	</body>
</html>
