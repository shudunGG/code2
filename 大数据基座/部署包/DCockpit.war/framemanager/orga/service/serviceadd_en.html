<!DOCTYPE html>
<html>

	<head>
		<title>new service</title>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />

		<script src="../../../frame/fui/js/cssboot.js"></script>
	</head>
	<body>
		<div class="page-loading"></div>
		<!-- toolbar area -->
		<div class="fui-toolbar">
			<div class="btn-group mr10">
				<a class="mini-button" id="addNew" onclick="saveAndNew" iconCls="icon-save">
				save and new
				</a>
				<a class="mini-button" id="addClose" onclick="saveAndClose" iconCls="icon-save">
				save and close
				</a>
				<a class="mini-button" onclick="epoint.closeDialog" iconCls="icon-removecircle">
				shut down
				</a>
			</div>
			<!--Help button -->
			<a role="helper" class="mr10">precautions</a>
		</div>
		<!-- Help information area Hidden by default-->
		<div class="fui-notice hidden">
			<p>
				<span class="text-danger">
				         serviceTag:For multiple modules configured to oneurlParameters, but the pages are not the same situation;format: parm:value;parm:value ...,<br/>If you don't set tagOn behalf of the permissions configured for general configuration<br/>
				         Example: the module's Aaddress: frameuseradd?display=1, The moduleBaddress: frameuseradd?isSub=1&amp;display=1,<br/>
				               serviceAccess configuration recordtag , respectively, for :display:1, isSub:1;display:1,<br/>
				             if Parameter does not affect the permissions, you can not set uptagTo make itforGeneral configuration, the aboveA When the configuration Can not settag
				</span>
			</p>
		</div>

		<!-- content area -->
		<div class="fui-content">
			<!-- The form area -->
			<div id="fui-form" class="fui-form">
				<div role="form">
					<div role="row">
						<div role="control" label="belong function" starred="true">
							<input class="mini-treeselect" bind="frameService.servicetypeguid" id="servicetypeguid" action="lazyTreeModal"
							multiSelect="false" required="required" requiredErrorText="Subordinate functionWill choose!"  />
						</div>
					</div>
					<div role="row">
						<div role="control" label="serviceThe name" starred="true">
							<input class="mini-textbox" required="true"
							bind="frameService.servicename"
							requiredErrorText="Please enter theserviceThe name" />
						</div>
					</div>
					<div role="row">
						<div role="control" label="serviceTag" >
							<input class="mini-textbox" bind="frameService.servicetag" />
						</div>
					</div>
					<div role="row">
						<div role="control" label="relationurl" >
							<input class="mini-textbox" bind="frameService.relationurl" />
						</div>
					</div>
					<div role="row">
						<div role="control" label="order no">
							<input class="mini-textbox" vtype="int;maxLength:6" value="0"
							bind="frameService.ordernumber" />
						</div>
					</div>

					<div role="row">
						<div role="control" label="note">
							<input class="mini-textarea"
							bind="frameService.description" />
						</div>
					</div>
				</div>
			</div>
		</div>

		
 
 	<script type="text/javascript">var miniLocal='en_US.js';</script>
 	<script src="../../../rest/resource/jsboot"></script>

		<!-- Configuration Variables -->
		<script>
			//<![CDATA[
			//Initialize the page
			epoint.initPage("serviceaction");

			// New correction operation
			function newCallback(data) {
				if (data.msg) {
					epoint.alert(data.msg, '', null, 'info');
					if (data.success) {
						// emptyThe form
						epoint.clear('fui-form');
					}
				}
			}

			//save and new
			function saveAndNew() {
				if (epoint.validate()) {
					epoint.execute('addNew', 'fui-form', newCallback);
				}
			}

			function onCloseClick(e) {
				var obj = e.sender;
				obj.setText("");
				obj.setValue("");
			}

			// Shut downOperation of the callback
			function closeCallback(data) {
				if (data.msg) {
					if (data.success) {
						epoint.alertAndClose(data.msg, '', null, null, 'success');
					} else {
						epoint.alert(data.msg, '', null, 'error');
					}
				}
			}

			//save and new
			function saveAndClose() {
				if (epoint.validate()) {
					epoint.execute('add', 'fui-form', closeCallback);
				}
			}

			//]]>
		</script>
	</body>
</html>
