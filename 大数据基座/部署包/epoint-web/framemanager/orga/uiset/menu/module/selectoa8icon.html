<!DOCTYPE html>
<html>

<head>
<title>图片选择</title>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />

<script src="../../../../../frame/fui/js/cssboot.js"></script>
<style>
.top-menu-item>span {
	position: relative;
}
</style>

</head>

<body>
	<div class="page-loading"></div>

	<div class="fui-content">
		<div id="datagrid" class="mini-datagrid" sortOrder="desc"
			idField="themeGuid" style="width: 100%; height: 100%;"
			allowResize="false" action="getDataGridData" showPager="false"
			showColumns="false" enableHotTrack="false" allowAlternating="false"
			allowRowSelect="false">
			<div property="columns">
				<div field="image1" align="center"></div>
				<div field="image2" align="center"></div>
				<div field="image3" align="center"></div>
				<div field="image4" align="center"></div>
				<div field="image5" align="center"></div>
			</div>
		</div>
	</div>

	<script src="../../../../../rest/resource/jsboot"></script>

	<!-- 配置变量 -->
	<script>
		//<![CDATA[
		// 初始化页面
		epoint.initPage('selectoa8iconaction', '', initCallBack);

		function initCallBack(data) {
			type = data.type;
			//引入自定义图标
			if (data.path) {
				var path = data.path.split(',');
				for (var i = 0;i<path.length;i++) {
					Util.loadCss(Util.getRightUrl(path[i]));
				}
			}
		}

		var grid = mini.get("datagrid");

		grid
				.on(
						"drawcell",
						function(e) {
							var value = e.value;
							var field = e.field;

							if (type == 'small') {
								if (value) {
									e.cellHtml = "<div class=\"top-menu-item-icon "
											+ value
											+ "\" onclick=\"epoint.closeDialog('"
											+ value
											+ "')\" style=\"cursor: pointer;\"></div><p>"
											+ value + "</p>";
								} else {
									e.cellHtml = "";
								}
							} else {
								if (value) {
									e.cellHtml = "<div class=\"icons2424-bg-"
											+ field.substr(5)
											+ "\" style=\"display:inline-block\"><div class=\"top-menu-item-icon "
											+ value
											+ "\" onclick=\"epoint.closeDialog('"
											+ value
											+ "')\" style=\"cursor: pointer;\"></div></div>&#160;<span>"
											+ value + "</span>";
								} else {
									e.cellHtml = "";
								}
							}
						});

		//]]>
	</script>
</body>

</html>
