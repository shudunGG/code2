<!DOCTYPE html>
<html>

<head>
<title>用户修改</title>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<script src="../../../../frame/fui/js/cssboot.js"></script>
<link rel="stylesheet"
	href="../../../../frame/pages/basic/gateway/app/appinfomanage/css/roleSelect.css" />
<style>
.mini-webuploader {
	height: 17px;
	vertical-align: text-top;
}

.mini-uploader-btns .webuploader-pick {
	line-height: 17px;
	background: transparent;
	color: #d2322d;
	font-weight: bold;
	padding: 0 4px;
}

.single-tab {
	height: initial;
	overflow-y: initial;
}

.truncate {
	max-width: 110px;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}
</style>
</head>
<body>
	<!-- 必须有，加载时的loading效果 -->
	<div class="page-loading"></div>

	<!-- 内容区域 -->
	<div class="fui-content">
		<div class="fui-accordions" id="fui-accordions">
			<div role="accordion" opened="true">
				<div role="head" title="用户基本信息"></div>
				<div role="body">
					<div class="fui-form">
						<div role="form">
							<div role="row">
								<label class="form-label">用户登录名:</label>
								<div class="form-control span2">
									<div bind="loginId" id="loginId" class="mini-outputtext"></div>
								</div>
								<label class="form-label">用户姓名:</label>
								<div id="userName" class="form-control span2">
									<div id="displayName" bind="frameUser.displayName"
										class="mini-outputtext"></div>
								</div>
							</div>
							<div id="mzx" role="row">
								<div role="control" label="名">
									<div bind="frameUser.firstname" class="mini-outputtext"></div>
								</div>
								<div role="control" label="中间名">
									<div bind="frameUser.middlename" class="mini-outputtext"></div>
								</div>
								<div role="control" label="姓">
									<div bind="frameUser.lastname" class="mini-outputtext"></div>
								</div>
							</div>
							<div id="shiqu" role="row">
								<div role="control" label="时区">
									<div bind="frameUser.timezoneName" class="mini-outputtext"></div>
								</div>
								<div role="control" label="首选语言">
									<input bind="frameUser.prelangName" class="mini-outputtext"></div>
								</div>
							</div>
							<div role="row">
								<div role="control" label="所在部门" starred="true">
									<div id="selectedOUname" bind="belongOuName" class="mini-outputtext"></div>
								</div>
								<div role="control" label="兼职部门">
									<div id="otherOUname" bind="otherouname"
										 class="mini-outputtext"></div>
								</div>
							</div>
							<div role="row">
								<div role="control" label="直接上级">
									<div id="leaderUser" bind="leaderName"
										   class="mini-outputtext"></div>
								</div>
								<div role="control" label="职务">
									<div id="titleName" bind="frameUser.title"
										 class="mini-outputtext"></div>
								</div>
							</div>
							<div role="row">
								<div role="control" label="办公电话">
									<div id="telephoneOffice" bind="frameUser.telephoneOffice"
										 class="mini-outputtext"></div>
								</div>
								<div role="control" label="短号码">
									<div id="mobile1" bind="userExtendInfo.shortMobile"
										 class="mini-outputtext"></div>
								</div>
							</div>
							<div role="row">
								<div role="control" label="家庭电话">
									<div id="telephoneHome" bind="frameUser.telephoneHome"
										 class="mini-outputtext"></div>
								</div>
								<div role="control" label="手机号码">
									<div id="mobile" bind="frameUser.mobile" class="mini-outputtext"></div>
								</div>
							</div>
							<div role="row">
								<div role="control" label="排序值">
									<div id="orderNumber" bind="frameUser.orderNumber"
										 class="mini-outputtext"></div>
								</div>
								<div role="control" label="CA证书号">
									<div id="userkey" bind="userExtendInfo.usbkey" class="mini-outputtext"></div>
								</div>
							</div>
							<div role="row">
								<div role="control" label="性别">
									<div class="mini-outputtext" bind="frameUser.sex"></div>
								</div>
								<div role="control" label="ad">
									<div id="ad" bind="frameUser.adloginid" class="mini-outputtext"></div>
								</div>
							</div>
							<div role="row">
							    <div role="control" label="入编时间">
									<div class="mini-outputtext" id="hiredate"
										data-options="{'format': 'yyyy-MM-dd'}"
										 bind="frameUser.hiredate"></div>
								</div>
								<div role="control"></div>
							</div>
							<div role="row">
								<div role="control" label="是否同步第三方">
									<div id="issyncthirdparty" class="mini-outputtext"
										bind="frameUser.issyncthirdpartyName"></div>
								</div>
							</div>
							<div role="row" id="isSheMi">
								<div role="control" label="密级选择">
									<div id="framemj" class="mini-outputtext"
										bind="frameUser.framemjName"></div>
								</div>
								<div role="control" label=""></div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div role="accordion" opened="true">
				<div role="head" title="用户拓展信息"></div>
				<div role="body">
					<div class="fui-form">
						<div role="form">
							<div role="row">
								<div role="control" label="用户生日">
									<div class="mini-outputtext" id="birthday"
										data-options="{'format': 'yyyy-MM-dd'}"
										 bind="userExtendInfo.birthday"></div>
								</div>
								<div role="control" label="身份证号">
									<div id="identityCardNum"
										   bind="userExtendInfo.identityCardNum" class="mini-outputtext"></div>
								</div>
							</div>
							<div role="row">
								<div role="control" label="QQ号码">
									<div id="qq" bind="userExtendInfo.qqnumber" class="mini-outputtext"></div>
								</div>
								<div role="control" label=""></div>
							</div>
							<div role="row">
								<div role="control" label="E_Mail">
									<div id="email" bind="frameUser.email" class="mini-outputtext"></div>
								</div>
								<div role="control" label="地址">
									<div id="postalAddress" bind="userExtendInfo.postalAddress"
										 class="mini-outputtext"></div>
								</div>
							</div>
							<div role="row">
								<div role="control" label="邮编">
									<div id="postalCode" bind="userExtendInfo.postalCode"
										 class="mini-outputtext"></div>
								</div>
								<div role="control" label="传真">
									<div id="fax" bind="frameUser.fax" class="mini-outputtext"></div>
								</div>
							</div>
							<div role="row">
								<div role="control" label="NTX-IPA分机号">
									<div id="nTX_EXTNumber" bind="userExtendInfo.ntxExtnumber"
										   class="mini-outputtext"></div>
								</div>
								<div role="control" label="NTX-IPA密码">
									<div id="nTX_Password" bind="userExtendInfo.ntxPassword"
										 class="mini-outputtext"></div>
								</div>
							</div>
							<div role="row">
								<div role="control" label="备注">
									<div id="description" bind="frameUser.description" class="mini-outputtext"></div>
								</div>
								<div role="control" label="使用IP地址">
									<div id="loginIP" bind="userExtendInfo.loginIp"
										   class="mini-outputtext"></div>
								</div>
							</div>
							<div role="row">
								<div role="control" label="照片">
									<div class="img-view" id="photo">
										<img id="lblPicture" src="" width="120px" height="180px"
											alt="个人头像图片" />
									</div>
								</div>
							</div>

						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- toolbar区域 -->
	<div class="fui-toolbar bottom">
		<a class="mini-button" onclick="epoint.closeDialog">关闭</a>
	</div>
	<script src="../../../../rest/resource/jsboot"></script>


	<script>
		//<![CDATA[
		//本页面请求使用sm2加密
		var useSm2Encrypt=true;
		//初始化请求
		epoint.initPage('frameuserdetailaction', '', initCallback);

		function initCallback(e) {
			if (e) {
				if (e.isEnableInter) {
					Util.form.hideField("#userName");
					//同时要去除控件的 required验证
					mini.get("displayName").setRequired(false);
				} else {
					$("#mzx").hide();
					$("#shiqu").hide();
				}
				showPhoto(e.lblPicture);
			}
		}

		//头像上传成功
		function OnPhotoSuccess(args) {
			if (args.data.extraDatas.lblPicture) {
				showPhoto(args.data.extraDatas.lblPicture);
			}
		}

		//控制照片显隐
		function showPhoto(url) {
			if (url) {
				$("#lblPicture").attr('src', url);
				$("#lblPicture").show();
			} else {
				$("#lblPicture").hide();
			}
		}
		//]]>
	</script>
</body>
</html>