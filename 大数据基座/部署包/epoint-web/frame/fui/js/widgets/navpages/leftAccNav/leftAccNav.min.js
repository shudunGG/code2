(function(k,b){var g=b("#acc-nav"),l=b("\x3e .acc-nav-list",g),u=b("#main-frame"),m=Mustache,n=b.trim(b("#nav-templ").html()),p=function(a){a=Util.addUrlParams(a,Util.getUrlParams());u[0].src=Util.getRightUrl(a)},h,v={_cache:{},cacheNodeData:function(a){var b,d=a.rowkey;this._cache[d]={};for(b in a)"items"!==b&&(this._cache[d][b]=a[b])},getNodeData:function(a){return(a=this._cache[a])?a:null}},q=!1,r=!0,t=function(a,e){var d=[];b.each(a,function(a,f){var c={name:f.name,icon:f.icon,url:f.url,isLeaf:!(f.items&&f.items.length),expanded:f.expanded};c.isLeaf||(r=!1);c.rowkey=void 0==e?a+"":e+"-"+a;var g=c.rowkey.split("-").length;c.indent=1!==g?38+24*(g-2):!1;c.isTop=1===c.rowkey.split("-").length;!q&&f.url&&(h=c.rowkey,q=!0);f.defaultActive&&(h=c.rowkey);v.cacheNodeData(b.extend({},f,c));c.isLeaf?d.push(m.render(n,c)):d.push(m.render(n,b.extend(c,{subNav:t(f.items,c.rowkey)})))});return d.join("")},w=function(){Util.loadJs("frame/fui/js/widgets/jquery.nicescroll.min.js",function(){g.niceScroll({cursorcolor:"#666"})})},x=function(a){a&&a.length&&(a=t(a),b(Util.clearHtml(a)).appendTo(l.empty()),r&&g.addClass("singlelayer"),w())};!AccNav.onLoad&&k.onLeftAccNavLoad&&(AccNav.onLoad=k.onLeftAccNavLoad);AccNav.onLoad||(AccNav.onLoad=Util.noop);var y=function(){if(AccNav.defaultUrl)p(AccNav.defaultUrl);else{var a;h&&(a=l.find(".acc-nav-link").filter('[data-rowkey\x3d"'+h+'"]'),a.trigger("click"),e.parent().parents(".acc-nav-item ").addClass("opened"))}},e=null,z=function(){g.on("click",".acc-nav-link",function(a){a.preventDefault();a=b(this);var g=a.data("url");a.data("rowkey");var d=a.parent(),h=!d.find("\x3e .acc-nav-list").length;h||(d.hasClass("opened")?d.removeClass("opened"):d.addClass("opened"),Util.redrawPseudoEl(a.find(".acc-nav-icon")[0]));h&&(e&&e.removeClass("active"),e&&Util.redrawPseudoEl(e.find(".acc-nav-icon")[0]),e=a,e.addClass("active"),Util.redrawPseudoEl(e.find(".acc-nav-icon")[0]),p(g))})};(function(){var a=b.extend({query:"init-accNav"},AccNav.params);Util.ajax({url:Util.getRightUrl(AccNav.loadUrl),dataType:"json",type:"POST",data:a}).done(x,z,y,AccNav.onLoad)})()})(this,jQuery);