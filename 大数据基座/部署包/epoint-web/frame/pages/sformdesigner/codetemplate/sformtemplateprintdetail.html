<!DOCTYPE html>
<html>
<head>
<title>打印预览页面</title>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />
<!-- 请修改相对路径 -->
<script src="../../../../../frame/fui/js/cssboot.js"></script>
<style>
html, body {
	margin: 0;
	padding: 0;
}

.container {
	margin: 0 auto;
}
</style>
<script>
	SrcBoot.output([ '../../../../../frame/pages/sformdesigner/basestyle.css?t='
			+ (+new Date()) ]);
</script>

<style type="text/css">
@atrrecss
</style>
</head>

<body>
	<div class="page-loading"></div>

	<!-- <div id="butList" class="fui-toolbar">
		<a class="mini-button" iconCls="icon-addcircle" id="toolPrint"
			onclick="doPrint('打印预览...')">打印预览</a>
		input type="button" id="toolPrint" value="打印预览..." onClick="doPrint('打印预览...')">
	    <input type="button" id="toolPrint2" value="打印..." onClick="doPrint('打印...')">
	    <input type="button" id="toolPrint3" value="打印" onClick="doPrint('打印')"
	</div> -->

	<div class="fui-content">
		<div id="fui-form" class="fui-form">
			<div role="form" id="form">
				<div id='page1' class="container" style="width: 900px;">@contentContainer</div>
			</div>
		</div>
	</div>

	<div id='myfooter' style='display: none'>
		<p align="right"
			style="font-size: 12px; border-top: solid 1 black; padding: 2px">
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
	</div>

	<script src="../../../../../rest/resource/jsboot"></script>
	<script>
	// 942 中占位元素的正则可能有问题 部分情况生成时未正确移除
	$('section[need-remove]').each(function(i, sec) {
        $(sec).replaceWith(sec.innerHTML);
    });
	</script>
	<script>
	SrcBoot.output([ '../../../../../frame/pages/sformdesigner/js/form.common.js',  
	         		'../../../../../frame/pages/epointsform/js/jcp.js',
	         		'../../../../../frame/pages/epointsform/js/lic.js' 
	         		]);
	</script>
	 
	
	<script>
		// Promise支持，必须是完整的Promise/A+实现
		if (typeof window.Promise != 'function') {
			SrcBoot.output([ '../../../../../frame/pages/epointsform/js/bluebird/bluebird.min.js' ]);
		}
	
		SrcBoot.output([ '../../../../../frame/pages/epointsform/js/html2canvas.js', // html 转 canvas
		'../../../../../frame/pages/epointsform/js/jspdf.min.js' // jspdf
		]);
	</script>
	<script>
		window.epointsformdetailactionname = "sformdesigncommondetailaction";
		window.epointsformurl="?tableId=@tableid&versionguid=@versionguid&tableguid=@tableguid"; 
		window.detail = "printdetail";
		window.tableId = "@tableid";
		window.versionguid = "@versionguid";
		function doPrint(how) {

			//打印文档对象9
			var myDoc = {
				settings : {
					marginLeft : 10,
					marginTop : 10,
					marginRight : 10,
					marignBottom : 10
				},

				//scale:1,
				footer : {
					height : 20,
					html : document.getElementById('myfooter')
				},
				documents : document, // 打印页面(div)们在本文档中
				copyrights : '杰创软件拥有版权  www.jatools.com'
			};
			var jcp = getJCP();
			// 调用打印方法
			if (how == '打印预览...')
				jcp.printPreview(myDoc); // 打印预览

			else if (how == '打印...')
				jcp.print(myDoc, true); // 打印前弹出打印设置对话框

			else
				jcp.print(myDoc, false); // 不弹出对话框打印

		}
	</script>

	<script>
	SrcBoot.output([ '../../../../../frame/pages/sformdesigner/js/form.detail.js' ]);
	</script>
	
	@javascript
</body>
</html>