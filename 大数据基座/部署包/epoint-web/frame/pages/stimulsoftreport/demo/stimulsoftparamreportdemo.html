<!DOCTYPE html>
<html>

<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>参数报表示例页面</title>
<script src="../../../fui/js/cssboot.js"></script>
</head>
<body>
	<!-- 条件区域 -->
	<div class="fui-condition">
		<div class="fui-form" id="fui-form">
			<div role="form">
				<div role="row">
					<div role="control" label="搜索字段">
						<div class="mini-textbox" id="fieldName" bind="fieldValue"></div>
					</div>
					<div role="control"></div>
				</div>
			</div>
		</div>
		<!-- 搜索按钮 -->
		<a role="searcher" callback="searchData"></a>
	</div>

	<!-- 内容区域 -->
	<div id="fui-content" class="fui-content">
		<iframe id="urlLink" frameborder="0" width="100%" height="100%"></iframe>
	</div>

	<script src="../../../../rest/resource/jsboot"></script>
	<script>
		//<![CDATA[ 
		// 初始化页面
		epoint.initPage('stimulsoftparamreportdemoaction', null, initCallBack);

		//初始化回调事件
		function initCallBack(data) {
			searchData();
		}
		
		// 初始化stimulsoftreportshow.jsp参数
        var optionsparams = {
    		'showExportDialog':true, //是否打开导出文档配置窗口，true：打开导出配置窗口  false：不打开导出配置窗口，直接导出文档
			'showViewModeButton': true,
			'showZoomButton': true, //
			'showMenuMode': 'Hover',
			'viewMode': 'OnePage',
			'showPageShadow': true,
			'showTooltips': false,
			'scrollbarsMode': false,
			'rightToLeft': false
    	}; 
		
		function searchData() {
			var urlLink = "frame/pages/stimulsoftreport/stimulsoftreportshow.jsp?rowguid="
					+ Util.getUrlParams('rowguid');
			var fieldvalue = mini.get("fieldName").getValue();
			if (fieldvalue)
				urlLink += "&fieldname=" + fieldvalue;
			document.getElementById("urlLink").src = urlLink;
		}

		//]]>
	</script>
</body>
</html>