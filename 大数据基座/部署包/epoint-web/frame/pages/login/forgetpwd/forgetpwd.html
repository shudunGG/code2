<!DOCTYPE html>
<html lang="zh_CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<script src="../../../../frame/fui/js/cssboot.js"></script>
<link rel="stylesheet" href="./css/password.css">
<title>找回密码</title>
</head>
<body>
	<div class="hd">
		<div class="title l">
			<img src="images/forget_tt.png" style="padding-top: 10px" alt="" />
		</div>
	</div>
	<div class="container clearfix">
		<div class="content" id="fui-form">
			<div class="top-txt">
				<span class="findpwd">密码找回</span><p class="rempwd">记得密码，</p><span class="login-txtbtn">直接登录</span>
			</div>
			<div class="content-card">
				<div class="step-box">
					<div id="step-item-1" class="step-item ver-inner-md active">
						<span class="step-icon ver-md"></span> <span
							class="step-txt ver-md">填写账号</span>
					</div>
					<div id="step-item-2" class="step-item ver-inner-md">
						<span class="step-icon ver-md"></span> <span
							class="step-txt ver-md">验证身份</span>
					</div>
					<div id="step-item-3" class="step-item ver-inner-md">
						<span class="step-icon ver-md"></span> <span
							class="step-txt ver-md">重置密码</span>
					</div>
					<div id="step-item-4" class="step-item ver-inner-md">
						<span class="step-icon ver-md"></span> <span
							class="step-txt ver-md">完成</span>
					</div>
				</div>
				<!-- 填写账号 -->
				<div class="step-content">
					<div class="field clearfix">
						<div class="field-lab l">账号</div>
						<div class="field-val l clearfix forget-input">
							<input id="userName" bind="userName"
								class="field-input-box mini-textbox" emptyText="请输入账号/手机号码/身份证号码"
								required="true">
						</div>
					</div>
					<div class="field clearfix">
						<div class="field-lab l">验证码</div>
						<div class="field-val l clearfix">
							<input id="codeinput" bind="codeinput"
								class="field-input-box mini-textbox forget-input" emptyText="请输入右侧验证信息"
								required="true" requiredErrorText="图形验证码不能为空" />
							<!-- 图形验证码id为常量不可变 -->
							<div class="mini-verifycode qrcode r" style="height: 100%;width:110px"
								id="passwordverifycode" action='resetpwdaction'></div>
						</div>
					</div>

					<div class="btn-bar">
						<div class="button next-btn entry-active" id="checkLoginInfo">下一步</div>
					</div>
				</div>
				<!-- 验证身份1 -->
				<div class="step-content hidden">
					<p>
						您正在为账号[<span class="text-blue-nopointer"><input
							bind="frameUser.loginidsafe" class="mini-outputtext" /></span>]找回密码，请选择验证方式：
					</p>
					<div class="find-block">
						<div class="find-block-inner clearfix">
							<div class="find-block-left l">
								<div class="find-block-title">通过手机号找回</div>
								<div class="find-block-txt">
									若您绑定的手机号[<span class="text-blue-nopointer"><input
										bind="frameUser.mobilesafe" class="mini-outputtext" /></span>]仍在使用，请选择
								</div>
							</div>
							<div class="button r" id="checkIdentity1">立即验证</div>
						</div>
					</div>

					<div class="find-block find-block2">
						<div class="find-block-inner clearfix">
							<div class="find-block-left l">
								<div class="find-block-title">通过人工找回</div>
								<div class="find-block-txt">若绑定的手机号码已停用，请通过人工服务找回</div>
							</div>
							<div class="button r" id="checkIdentity3">前往找回</div>
						</div>
					</div>
				</div>
				<!-- 验证身份2 -->
				<div class="step-content hidden">
					<p>您正在通过手机号+身份证账号验证身份</p>
					<div class="field clearfix">
						<div class="field-lab l">手机号码</div>
						<div class="field-val l clearfix">
							<input bind="frameUser.mobilesafe" class="mini-outputtext" /> <input
								id="mobile" bind="frameUser.mobile"
								class="mini-outputtext hidden" />
						</div>
					</div>
					<div class="field clearfix">
						<div class="field-lab l">短信验证码</div>
						<div class="field-val l clearfix">
							<input id="smscodeinput" bind="smscodeinput"
								class="field-input-box mini-textbox forget-input" emptyText="请输入短信验证信息"
								required="true" />
							<div class="button getcode" id="sendSms">获取短信验证码</div>
							<div class="grey-button getcode hidden"></div>
						</div>
						<div class="field-info">未收到短信请先检查是否在垃圾短信中，如还未收到请再次获取验证码</div>
					</div>
					<div class="field clearfix">
						<div class="field-lab l">身份证号码</div>
						<div class="field-val l clearfix">
							<input id="cardnum" bind="cardnum"
								class="field-input-box mini-textbox forget-input" emptyText="请输入身份证号码" />
						</div>
						<div class="field-info">如果您的账号未设置身份证号码，则无需填写</div>
					</div>
					<div class="btn-bar">
						<div class="back-next-btn1 button" id="checkIdentity5">返回上一步</div>
						<div class="button back-next-btn2 entry-active" id="checkIdentity">下一步</div>
					</div>
					<div class="text-center text-grey">
						手机号已停用，可采用<span class="text-blue" id="checkIdentity2">通过人工找回</span>
					</div>
				</div>
				<!-- 验证身份3 -->
				<div class="step-content hidden">
					<p>请拨打人工服务热线获取帮助</p>
					<div class="phone-blocks">
						<div class="phone-block l">
							<div class="phone-block-icon icon1"></div>
							<div class="text-center phone-block-txt">465886886686868</div>
							<div class="text-center text-grey">国内拨打</div>
						</div>
						<div class="phone-block l">
							<div class="phone-block-icon icon2"></div>
							<div class="text-center phone-block-txt">465886886686868</div>
							<div class="text-center text-grey">香港拨打</div>
						</div>
						<div class="phone-block l">
							<div class="phone-block-icon icon3"></div>
							<div class="text-center phone-block-txt">465886886686868</div>
							<div class="text-center text-grey">国际拨打</div>
						</div>
					</div>
					<div class="back-btn2 button" id="checkIdentity4">返回上一步</div>
				</div>
				<!-- 重置密码 -->
				<div class="step-content hidden" id="maincontent">
					<div class="field clearfix">
						<div class="field-lab l">新密码</div>
						<div class="field-val l clearfix">
							<input id="password" bind="password"
								class="field-input-box mini-password" emptyText="请输入新密码"
								required="true" onvalidation="onValidation" />
						</div>
						<!-- weak 弱 middle 中 strong 强 -->
						<div class="field-status clearfix l hidden">
							<div class="sta-block l">弱</div>
							<div class="sta-block l">中</div>
							<div class="sta-block l">强</div>
						</div>
					</div>
					<div class="field clearfix">
						<div class="field-lab l">确认密码</div>
						<div class="field-val l clearfix">
							<input id="passwordqr" class="field-input-box mini-password"
								emptyText="请再次输入密码" required="true" onvalidation="onValidation" />
						</div>
					</div>

					<div class="btn-bar">
						<div class="button next-btn" id="submit">完成</div>
					</div>
				</div>
				<!-- 完成 -->
				<div class="step-content hidden">
					<div class="success-icon"></div>
					<div class="success-txt text-center">重置成功</div>
					<div class="text-center text-grey" id="lastcount">本页面将在五秒后自动关闭</div>
					<div class="button login-btn">立即登录</div>
				</div>
			</div>
		</div>
	</div>
	<script src="../../../../rest/resource/jsboot">
		// sm2加密引入js文件
		SrcBoot.output([ '../../../../frame/fui/js/libs/sm2security.js' ]);
	</script>

	<script>
		var otherurl = Util.getRightUrl('frame/pages/login/login');// 跳转页
		var regfunc = 'resetPassword';//调用的后台方法名
		var smstype = '03';// -忘记密码
		var identCodeCount = 59;// 短信验证码过期时间
		var identCodeCountInit = 59;// 刷新短信验证码过期时间
		
		if (Util.getUrlParams('fcode') != undefined) {
			var loginurl = Util.getRightUrl('frame/pages/login/login')
					+ decodeURIComponent(Util.getUrlParams('fcode'));// 登录页
		}
		else{
			var loginurl = Util.getRightUrl('frame/pages/login/login');
		}
		
	</script>
	<script src="./js/regpwd.js"></script>
	<script src="./js/resetpassword.js"></script>
</body>
</html>