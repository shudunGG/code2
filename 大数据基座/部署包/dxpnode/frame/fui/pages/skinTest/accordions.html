<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>Document</title>
        <script src="../../js/cssboot.js"></script>
        <style>
            .bg-color-list {
                width: 100%;
            }

            .bg-color-item {
                float: left;
                margin-top: 1px;
                width: 20px;
                height: 20px;
                border-radius: 4px;
                border: 2px solid transparent;
                opacity: 0.6;
                position: relative;
                cursor: pointer;
            }

            .bg-color-item + .bg-color-item {
                margin-left: 4px;
            }

            .bg-color-item:hover,
            .bg-color-item.active {
                box-shadow: 0 0 3px rgba(0, 0, 0, 0.15);
                opacity: 1;
            }
            .bg-color-item:hover:after,
            .bg-color-item.active:after {
                content: '';
                display: block;
                height: 100%;
                width: 100%;
                background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAJCAYAAAAGuM1UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFHGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTA5LTIxVDE2OjE2OjA2KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wOS0yMVQxNjoxNzoxMiswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wOS0yMVQxNjoxNzoxMiswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2YjQxZjFiNC03NmUyLTc5NGMtOTBhYy1kN2MyNGYzNGQ3NzMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NmI0MWYxYjQtNzZlMi03OTRjLTkwYWMtZDdjMjRmMzRkNzczIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NmI0MWYxYjQtNzZlMi03OTRjLTkwYWMtZDdjMjRmMzRkNzczIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2YjQxZjFiNC03NmUyLTc5NGMtOTBhYy1kN2MyNGYzNGQ3NzMiIHN0RXZ0OndoZW49IjIwMTgtMDktMjFUMTY6MTY6MDYrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5jstTzAAAAgElEQVQYGWP4//8/A5E4CojZiFHICMQ9/yFgDSHFTEA8Har4ExA7wCQ8gXg2EDMjKQaxF0MVvwNic5A4SIILiB9DJdaB3AnF66BiL4FYH2YQzDQNJE3boPg/VEwD2ZnI7lUE4nv/EeAeVIwBlwYQlgLi61AshS0gsIWMGBRjDTkAVihc1I/Fdr4AAAAASUVORK5CYII=')
                    center no-repeat;
            }
        </style>
    </head>

    <body>
        <div class="fui-content">
            <div class="fui-accordions" showNav="true">
                <div role="accordion">
                    <div role="head" title="手风琴标题1"></div>
                    <div role="body">
                        <div id="fui-form" class="fui-form">
                            <div role="form">
                                <div role="row">
                                    <div role="control" label="图标背景颜色">
                                        <div id="bg-color-select" class="bg-color-list clearfix"></div>
                                        <input id="bg-color-hidden" class="mini-hidden" value="#3391e5" bind="picbackgroundcolor" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div role="accordion" opened="false">
                    <div role="head" title="手风琴标题2"></div>
                    <div role="body"><div style="height:600px"></div></div>
                </div>
                <div role="accordion" opened="false">
                    <div role="head" title="手风琴标题3"></div>
                    <div role="body"><div style="height:600px"></div></div>
                </div>
                <div role="accordion" opened="false">
                    <div role="head" title="手风琴标题4"></div>
                    <div role="body">
                        <div style="height:600px"></div>
                    </div>
                </div>
            </div>
        </div>
        <script src="../../js/jsboot.js"></script>

        <script>
            var $bgSelectWrap = $('#bg-color-select');
            var bgColor = mini.get('bg-color-hidden');
            var colorsArr = ['#3391e5', '#58cece', '#f16caa', '#7d9459', '#298aae', '#58cece', '#ffce3d', '#fe5d58', '#3391e5', '#f16caa'];
            var COLOR_ITEM_TPL = '<span class="bg-color-item" id="bg-color-item-{{id}}" style="background-color:{{text}};" title="{{text}}"></span>';
            var colorHTML = [];
            $.each(colorsArr, function(i, item) {
                colorHTML.push(
                    Mustache.render(COLOR_ITEM_TPL, {
                        id: item.substr(1),
                        text: item
                    })
                );
            });
            $(colorHTML.join('')).appendTo($bgSelectWrap.empty());

            $bgSelectWrap.on('click', '.bg-color-item', function() {
                var $this = $(this);
                var c = $this.text();
                bgColor.setValue(c);
                $this
                    .addClass('active')
                    .siblings()
                    .removeClass('active');
            });
        </script>
    </body>
</html>
