<!DOCTYPE html>
<html>

<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>转换详情页面</title>
<!-- 请修改相对路径 -->
<script src="../../../../../../frame/fui/js/cssboot.js"></script>

</head>

<body>
	<!-- 必须有，加载时的loading效果 -->
	<div class="page-loading"></div>

	<div class="fui-content">

		<!-- 内容区域 -->
		<div role="accordion" id="req">
			<div role="head" title="请求转换"></div>
			<div role="body">
				<!-- 内容区域 -->
				<div id="fui-form" class="fui-form">
					<div role="form">
						<div role="row">
							<div role="control" label="应用">
								<input class="mini-textbox" style="width: 50%" id="reqsubscribe"
									enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control" label="Http方法">
								<input class="mini-textbox" style="width: 50%"
									id="reqHttpMethod" enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">针对哪种Http请求</div>
						</div>
						<div role="row">
							<div role="control" label="移除头部参数（键）">
								<input class="mini-textbox" style="width: 50%"
									id="reqRemoveHeaders" enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">移除头部参数名，例：p1,p2</div>
						</div>
						<div role="row">
							<div role="control" label="移除请求路径参数（键）">
								<input class="mini-textbox" style="width: 50%"
									id="reqRemoveQuerystring" enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">移除请求路径中的参数名，例：p1,p2</div>
						</div>
						<div role="row">
							<div role="control" label="移除请求体参数（键）">
								<input class="mini-textbox" style="width: 50%"
									id="reqRemoveBody" enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">content-type需满足application/json,
								multipart/form-data,
								application/x-www-form-urlencoded中的一种。移除已存在的post请求body参数名，例：p1,p2</div>
						</div>
						<div role="row">
							<div role="control" label="替换头部参数（键:值）">
								<input class="mini-textbox" style="width: 50%"
									id="reqReplaceHeaders" enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">如果头部的参数不存在，则忽略此属性；否则替换参数的值，例：p1:v1,p2=v2</div>
						</div>
						<div role="row">
							<div role="control" label="替换请求路径参数（键:值）">
								<input class="mini-textbox" style="width: 50%"
									id="reqReplaceQuerystring" enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">如果请求路径的参数不存在，则忽略此属性；否则替换参数的值，例：p1:v1,p2=v2</div>
						</div>
						<div role="row">
							<div role="control" label="替换请求体参数（键:值）">
								<input class="mini-textbox" style="width: 50%"
									id="reqReplaceBody" enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">content-type需满足application/json,
								multipart/form-data,
								application/x-www-form-urlencoded中的一种。如果请求体的参数不存在，则忽略此属性；否则替换参数的值，例：p1:v1,p2=v2</div>
						</div>
						<div role="row">
							<div role="control" label="添加头部参数(键:值）">
								<input class="mini-textbox" style="width: 50%"
									id="reqAddHeaders" enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">添加头部参数，不存在则添加，否则忽略，例：h1:v1,h2:v2</div>
						</div>
						<div role="row">
							<div role="control" label="添加请求路径参数（键:值）">
								<input class="mini-textbox" style="width: 50%"
									id="reqAddQuerystring" enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">添加请求路径参数，不存在则添加，否则忽略，例：h1:v1,h2:v2</div>
						</div>
						<div role="row">
							<div role="control" label="添加请求体参数（键:值）">
								<input class="mini-textbox" style="width: 50%" id="reqAddBody"
									enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">content-type需满足application/json,
								multipart/form-data,
								application/x-www-form-urlencoded中的一种。如果参数不存在，则添加；否则忽略，例：h1:v1,h2:v2</div>
						</div>
						<div role="row">
							<div role="control" label="重命名头部参数键（键:键）">
								<input class="mini-textbox" style="width: 50%"
									id="reqRenameHeaders" enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">修改请求头部参数键，存在则改键，否则忽略，例（老键:新键)
								：h1:v1,h2:v2</div>
						</div>
						<div role="row">
							<div role="control" label="重命名请求路径参数键（键：键）">
								<input class="mini-textbox" style="width: 50%"
									id="reqRenameQuerystring" enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">修改请求路径参数键，存在则改键，否则忽略，例（老键:新键)
								：h1:v1,h2:v2</div>
						</div>
						<div role="row">
							<div role="control" label="重命名请求体参数键（键:键）">
								<input class="mini-textbox" style="width: 50%"
									id="reqRenameBody" enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">content-type需满足application/json,
								multipart/form-data,
								application/x-www-form-urlencoded中的一种。修改请求体参数键，存在则改键，否则忽略，例（老键:新键)
								：h1:v1,h2:v2</div>
						</div>
						<div role="row">
							<div role="control" label="拼接请求头参数（键:值）">
								<input class="mini-textbox" style="width: 50%"
									id="reqAppendHeaders" enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">同添加请求投参数</div>
						</div>
						<div role="row">
							<div role="control" label="拼接请求路径参数（键:值）">
								<input class="mini-textbox" style="width: 50%"
									id="reqAppendQuerystring" enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">同添加请求路径参数</div>
						</div>
						<div role="row">
							<div role="control" label="拼接请求体参数（键:值）">
								<input class="mini-textbox" style="width: 50%"
									id="reqAppendBody" enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">content-type需满足application/json,
								multipart/form-data,
								application/x-www-form-urlencoded中的一种。请求体参数不存在，则添加；否则在原先body键中添加新值，例：h1:v1,h2:v2</div>
						</div>
					</div>
				</div>
			</div>
		</div>


		<div role="accordion" id="resp">
			<div role="head" title="响应转换"></div>
			<div role="body">
				<!-- 内容区域 -->
				<div id="fui-form" class="fui-form">
					<div role="form">
						<div role="row">
							<div role="control" label="应用">
								<input class="mini-textbox" style="width: 50%" enabled="false"
									id="respsubscribe" />
							</div>
						</div>
						<div role="row">
							<div role="control" label="移除头部参数（键）">
								<input class="mini-textbox " style="width: 50%"
									id="respRemoveHeaders" enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">移除头部参数名，例：p1,p2</div>
						</div>
						<div role="row">
							<div role="control" label="移除json参数（键）">
								<input class="mini-textbox " style="width: 50%"
									id="respRemoveJson" enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">移除json中的参数名，例：p1,p2</div>
						</div>
						<div role="row">
							<div role="control" label="替换头部参数（键:值）">
								<input class="mini-textbox " style="width: 50%"
									id="respReplaceHeaders" enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">如果头部的参数不存在，则忽略此属性；否则替换参数的值，例：p1:v1,p2=v2</div>
						</div>
						<div role="row">
							<div role="control" label="替换json参数（键:值）">
								<input class="mini-textbox " style="width: 50%"
									id="respReplaceJson" enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">如果返回json中的键值不存在，则忽略此属性；否则替换参数的值，例：p1:v1,p2=v2</div>
						</div>

						<div role="row">
							<div role="control" label="添加头部参数（键:值）">
								<input class="mini-textbox " style="width: 50%"
									id="respAddHeaders" enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">添加头部参数，不存在则添加，否则忽略，例：p1:v1,p2=v2</div>
						</div>

						<div role="row">
							<div role="control" label="添加json参数（键:值）">
								<input class="mini-textbox " style="width: 50%" id="respAddJson"
									enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">如果返回json中的键值不存在，则添加；否则忽略，例：p1:v1,p2=v2</div>
						</div>

						<div role="row">
							<div role="control" label="拼接头部参数（键:值）">
								<input class="mini-textbox " style="width: 50%"
									id="respAppendHeaders" enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">拼接头部参数，不存在则添加新的头部参数，否则在原先头部参数中添加新值，例：h1:v1,h2:v2</div>
						</div>

						<div role="row">
							<div role="control" label="拼接json参数（键:值）">
								<input class="mini-textbox " style="width: 50%"
									id="respAppendJson" enabled="false" />
							</div>
						</div>
						<div role="row">
							<div role="control">如果返回json中的键值不存在，则添加新的键值；否则在原先json键中添加新值，例：p1:v1,p2=v2</div>
						</div>
						<div role="row">
							<div role="control" label="重命名json参数键">
								<input class="mini-textbox " style="width: 50%" enabled="false"
									id="respRenameJson" />
							</div>
						</div>
						<div role="row">
							<div role="control">重命名json参数键，存在则改键，否则忽略，例（老键:新键)
								h1:v1,h2:v2</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- 请修改相对路径 -->
	<script src="../../../../../../rest/resource/jsboot"></script>

	<script>
		// 初始化页面
		epoint.initPage('transformationdetailaction', null, function(data) {
			if (data.transformation) {
				if ("req" == data.transformation) {
					$("#resp").hide();
				}
				if ("resp" == data.transformation) {
					$("#req").hide();
				}
			}
		});

		//修改参数
		function pageLoad(data) {
			if (data.value) {
				mini.get("reqsubscribe").setValue(data.value.consumerName);

				mini.get("reqAddBody").setValue(data.value.config.reqaddbody);

				mini.get("reqAddHeaders").setValue(
						data.value.config.reqaddheaders);
				mini.get("reqAddQuerystring").setValue(
						data.value.config.reqaddquerystring);

				mini.get("reqAppendBody").setValue(
						data.value.config.reqappendbody);
				mini.get("reqAppendHeaders").setValue(
						data.value.config.reqappendheaders);
				mini.get("reqAppendQuerystring").setValue(
						data.value.config.reqappendquerystring);

				mini.get("reqRemoveBody").setValue(
						data.value.config.reqremovebody);
				mini.get("reqRemoveHeaders").setValue(
						data.value.config.reqremoveheaders);
				mini.get("reqRemoveQuerystring").setValue(
						data.value.config.reqremovequerystring);
				mini.get("reqRenameBody").setValue(
						data.value.config.reqrenamebody);
				mini.get("reqRenameHeaders").setValue(
						data.value.config.reqrenameheaders);
				mini.get("reqRenameQuerystring").setValue(
						data.value.config.reqrenamequerystring);

				mini.get("reqReplaceBody").setValue(
						data.value.config.reqreplacebody);
				mini.get("reqReplaceHeaders").setValue(
						data.value.config.reqreplaceheaders);
				mini.get("reqReplaceQuerystring").setValue(
						data.value.config.reqreplacequerystring);
				mini.get("reqHttpMethod").setValue(
						data.value.config.reqhttpmethod);

			}

			if (data.value1) {
				mini.get("respsubscribe").setValue(data.value1.consumerName);

				mini.get("respRemoveHeaders").setValue(
						data.value1.config.respremoveheaders);
				mini.get("respRemoveJson").setValue(
						data.value1.config.respremovejson);

				mini.get("respReplaceHeaders").setValue(
						data.value1.config.respreplaceheaders);
				mini.get("respReplaceJson").setValue(
						data.value1.config.respreplacejson);
				mini.get("respAddHeaders").setValue(
						data.value1.config.respaddheaders);
				mini.get("respAddJson")
						.setValue(data.value1.config.respaddjson);

				mini.get("respAppendHeaders").setValue(
						data.value1.config.respappendheaders);
				mini.get("respAppendJson").setValue(
						data.value1.config.respappendjson);

				mini.get("respRenameJson").setValue(
						data.value1.config.resprenamejson);

			}
		}
	</script>
</body>
</html>