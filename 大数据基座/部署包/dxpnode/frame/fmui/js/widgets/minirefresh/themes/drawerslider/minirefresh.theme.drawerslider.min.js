!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.MiniRefresh=e()}(this,function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r=function(){function t(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,o,r){return o&&t(e.prototype,o),r&&t(e,r),e}}(),n=function h(t,e,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:h(n,e,o)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(o)},i=MiniRefreshTools.theme.defaults,s=MiniRefreshTools.version,a=MiniRefreshTools.extend,p=MiniRefreshTools.namespace,c="minirefresh-theme-drawerslider",l=200,f=2,u={down:{offset:100,dampRate:.2,bounceTime:500,successAnim:{isEnable:!1},isWrapCssTranslate:!0,isScrollCssTranslate:!1}},d=function(i){function s(o){t(this,s);var r=a(!0,{},u,o);return e(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,r))}return o(s,i),r(s,[{key:"_initDownWrap",value:function(){n(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_initDownWrap",this).call(this);var t=this.container,e=this.downWrap;e.innerHTML=' \n            <div class="drawer">\n                <div class="downwrap-content">\n                    <p class="downwrap-progress"></p>\n                    <p class="downwrap-tips">'+this.options.down.contentdown+'</p>\n                </div>\n                <div class="drawer-mask"></div>\n            </div>\n        ',t.classList.add(c),this.downWrapProgress=e.querySelector(".downwrap-progress"),this.downWrapTips=e.querySelector(".downwrap-tips"),this.drawer=e.querySelector(".drawer"),this.drawerMask=e.querySelector(".drawer-mask"),this.downWrapHeight=f+e.offsetHeight||l,this._transformDownWrap(-this.downWrapHeight)}},{key:"_transformDownWrap",value:function(t,e){n(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_transformDownWrap",this).call(this,t,e),this._transformDrawer(t,e)}},{key:"_transformDrawer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.drawerMask){var o=(-t-this.options.down.offset)/this.downWrapHeight;o=Math.min(1,o),o=Math.max(0,o),this.drawerMask.style.opacity=o,this.drawerMask.style.webkitTransitionDuration=e+"ms",this.drawerMask.style.transitionDuration=e+"ms"}}},{key:"_pullHook",value:function(t,e){n(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_pullHook",this).call(this,t,e)}},{key:"_downLoaingHook",value:function(){n(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_downLoaingHook",this).call(this)}},{key:"_downLoaingSuccessHook",value:function(t,e){n(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_downLoaingSuccessHook",this).call(this,t,e)}},{key:"_downLoaingEndHook",value:function(t){n(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_downLoaingEndHook",this).call(this,t)}},{key:"_cancelLoaingHook",value:function(){n(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_cancelLoaingHook",this).call(this)}}]),s}(i);return d.sign="drawerslider",d.version=s,p("theme.drawerslider",d),d});